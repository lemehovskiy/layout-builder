{"version":3,"sources":["containers/ToolPanel/index.module.scss","containers/ToolPanel/colorPicker.module.scss","modules/svgRenderReducer.js","modules/layoutBuilderReducer.js","modules/rootReducer.js","constants/redux.js","store.js","actions/index.js","containers/Figures/Object.js","utils/rootateTool.js","utils/vector.js","containers/ObjectRotateTool/ObjectRotateTool.js","containers/ObjectRotateTool/ObjectRotateToolContainer.js","utils/resizeTool.js","containers/ObjectResizeTool/ObjectResizeTool.js","containers/ObjectResizeTool/ObjectResizeToolContainer.js","utils/text.js","containers/Figures/Text.js","containers/Figures/TextContainer.js","containers/TextEditor/TextEditor.js","containers/TextEditor/TextEditorContainer.js","containers/Figures/Rectangle.js","containers/DraggableObject/DraggableObject.js","containers/SvgRender/SvgRender.js","containers/SvgRender/SvgRenderContainer.js","containers/ToolPanel/TextPanel/VerticalAlignPanel.js","containers/ToolPanel/TextPanel/TextAlignPanel.js","utils/helpers.js","containers/ToolPanel/TextPanel/index.js","containers/ToolPanel/SizePanel.js","containers/ToolPanel/PositionPanel.js","containers/ToolPanel/FillPanel/FillPanel.js","containers/ToolPanel/StrokePanel/StrokePanel.js","actions/layoutBuilderActions.js","containers/ToolPanel/Figures/Figures.js","containers/ToolPanel/index.js","containers/NewDraggableObject/NewDraggableObject.js","containers/NewDraggableObject/NewDraggableObjectContainer.js","containers/SelectTool/SelectTool.js","containers/SelectTool/SelectToolContainer.js","utils/selectTool.js","containers/layoutBuilder/index.js","containers/app/index.js","index.js","containers/ToolPanel/Figures/Figures.module.scss","containers/ToolPanel/TextPanel/TextPanel.module.scss"],"names":["module","exports","toolPanel","tool-panel-block","tool-panel-block__name","input-group-item","input-group","swatch","color","colorNone","colorPicker","reset-btn","updateObjects","state","ids","payload","updatedObjectsByHash","Object","objectSpread","objectsByHash","forEach","id","updateObjectNestedProps","nestedProps","defineProperty","initialState","combineReducers","svgRender","arguments","length","undefined","action","type","selectedObjectsId","concat","editStartPositionOffset","x","y","objectsById","toConsumableArray","object","layoutBuilder","mouseStartPosition","newFigureDragData","data","history","createHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","createStore","connectRouter","rootReducer","editMode","mousePosition","1","width","height","rotate","strokeWidth","stroke","fill","radius","text","textProps","textAlign","verticalAlign","2","updateEditMode","mode","dispatch","setMouseStartPosition","selectObjects","deselectAllObjects","deselectAllObjectsExept","moveObject","_ref","setSelectedObjectsEditStartPosition","resizeObjects","_ref2","rotateObject","_ref3","setTextAlign","value","setVerticalAlign","setFillColor","r","g","b","a","setStrokeColor","setStrokeWidth","addNewObject","updateObjectText","_ref4","Vector","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onDoubleClick","e","setState","onMouseUp","_this$props","objectMoved","clientX","clientY","shiftKey","console","log","onMouseDown","_this$props2","objectSelected","includes","onRef","_this$props3","children","React","cloneElement","Component","connect","bindActionCreators","getObjectRotateValue","Math","atan2","PI","getTransformMatrix","centerX","centerY","getObjectAttributes","transform","ObjectRotateTool","rotateIcon","react_default","createElement","cursor","d","ObjectRotateToolContainer","onMouseMove","isRotate","document","addEventListener","removeEventListener","containers_ObjectRotateTool_ObjectRotateTool","PureComponent","_len","funcs","Array","_key","reduceRight","acc","func","getObjectResizeValuesSouth","updatedObject","progress","mouse","changeValue","objectInitState","abs","getObjectResizeValuesNorth","getObjectResizeValuesEast","getObjectResizeValuesWest","getObjectResizeValuesNorthEast","getObjectResizeValuesSouthEast","getObjectResizeValueSouthWest","getObjectResizeValuesNorthWest","getObjectResizeValues","direction","ObjectResizeTool","dotsConfig","name","getResizeObjectDotsConfig","strokeDasharray","pointerEvents","map","dot","key","cx","cy","style","ObjectResizeToolContainer","_this$state","resizeDirection","updatedValues","isResizing","target","getAttribute","render","containers_ObjectResizeTool_ObjectResizeTool","getTextAttributes","textState","overflow","Text","textSize","setRef","assign","getTextWrapAttributes","ref","xmlns","display","split","i","TextContainer","divTextWrapRef","createRef","_this$divTextWrapRef$","current","getBoundingClientRect","prevProps","onResize","Figures_Text","TextEditor","onInputChange","onHeightChange","react_textarea_autosize_esm_browser","background","border","outline","padding","margin","getTextEditorAttributes","defaultValue","onChange","TextEditorContainer","containers_TextEditor_TextEditor","Rectangle","Figures_TextContainer","TextEditor_TextEditorContainer","ObjectResizeTool_ObjectResizeToolContainer","ObjectRotateTool_ObjectRotateToolContainer","FigureDragger","isDrag","selectedObjects","onChildMouseDown","_this2","Children","child","item","SvgRender","objectChild","resetMode","bind","DraggableObject","index","vectorType","Figures_Rectangle","Figures_Object","resizeTool","containers_SvgRender_SvgRender","buttonsConfig","label","VerticalAlignPanel","self","className","button","activeValue","textPanelStyle","onClick","TextAlignPanel","byString","o","s","replace","n","k","getEqualPropertyValueFromSelectedObjects","objects","values","push","every","val","arr","generateID","random","toString","substr","isMouseOnElement","node","_node$getBoundingClie","left","right","top","bottom","TextPanel","selectedObjectsByHash","TextPanel_VerticalAlignPanel","TextPanel_TextAlignPanel","SizePanel","react_numeric_input_default","PositionPanel","FillPanel","displayColorPicker","rgb","equalColorValue","toolPanelStyle","colorPickerStyle","handleClickSwatch","handleReset","react_color_lib","onChangeComplete","handleChangeComplete","onChangeStrokeWidth","setNewFigureDragData","Figures","refName","clientRect","ReactDOM","findDOMNode","refs","figureType","figureOffset","toolPanelFiguresrStyle","handleFigureClick","ToolPanel","styles","ToolPanel_Figures_Figures","ToolPanel_TextPanel","ToolPanel_PositionPanel","ToolPanel_SizePanel","ToolPanel_FillPanel_FillPanel","StrokePanel","NewDraggableObject","objectPosition","dragItemPosition","toolPanelVectorStyle","NewDraggableObjectContainer","svgRenderClientRect","resetData","getOffset","_ReactDOM$findDOMNode","offsetX","offsetY","_this$getOffset","recursiveCloneChildren","childProps","isValidElement","containers_NewDraggableObject_NewDraggableObject","SelectTool","selectToolPosition","selectToolSize","divStyle","position","backgroundColor","SelectToolContainer","getSvgOffset","_this$selectToolConta","selectToolContainerRef","updateSelectToolData","selectToolActive","endSelect","startSelect","mouseX","mouseY","selectToolStartPoint","_this$getSvgOffset","setSelectStartPosition","handleSelectTool","resetSelectToolData","selectedObjectIds","rect1","rect2","_this$getSvgOffset2","svgOffset","startPoint","getSelectToolSize","size","getSelectToolPosition","_this$state2","containers_SelectTool_SelectTool","LayoutBuilder","NewDraggableObject_NewDraggableObjectContainer","SelectTool_SelectToolContainer","SvgRender_SvgRenderContainer","containers_ToolPanel","App","querySelector","es","store","app","new-figure","rectangle","text-align-btn-group__btn_active","vertical-align-btn-group__btn_active"],"mappings":"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","file":"static/js/main.f1a2a65d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolPanel\":\"ToolPanel_toolPanel__1Jn6W\",\"tool-panel-block\":\"ToolPanel_tool-panel-block__19uCp\",\"tool-panel-block__name\":\"ToolPanel_tool-panel-block__name__34ZxT\",\"input-group-item\":\"ToolPanel_input-group-item__1OBU_\",\"input-group\":\"ToolPanel_input-group__3zCxg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatch\":\"colorPicker_swatch__HUpOg\",\"color\":\"colorPicker_color__3caBW\",\"colorNone\":\"colorPicker_colorNone__3YwZs\",\"colorPicker\":\"colorPicker_colorPicker__3l6wo\",\"reset-btn\":\"colorPicker_reset-btn__3NTuq\"};","import {\n    SELECT_OBJECTS,\n    ADD_NEW_OBJECT,\n    DESELECT_ALL_OBJECTS,\n    DESELECT_ALL_OBJECTS_EXEPT,\n    MOVE_OBJECT,\n    SET_SELECTED_OBJECTS_EDIT_START_POSITION,\n    RESIZE_OBJECTS,\n    ROTATE_OBJECT,\n    SET_TEXT_ALIGN,\n    SET_VERTICAL_ALIGN,\n    SET_FILL_COLOR,\n    SET_STROKE_COLOR,\n    SET_STROKE_WIDTH,\n    UPDATE_OBJECT_TEXT\n} from './../constants';\n\nfunction updateObjects(state, ids, payload) {\n    let updatedObjectsByHash = {...state.objectsByHash};\n\n    ids.forEach((id) => {\n        updatedObjectsByHash[id] = {\n            ...updatedObjectsByHash[id],\n            ...payload\n        }\n    });\n\n    return {...state, objectsByHash: updatedObjectsByHash};\n}\n\nfunction updateObjectNestedProps(state, ids, payload, nestedProps) {\n    let updatedObjectsByHash = {...state.objectsByHash};\n\n    ids.forEach((id) => {\n        updatedObjectsByHash[id] = {\n            ...updatedObjectsByHash[id],\n        [nestedProps]: {\n                ...updatedObjectsByHash[id][nestedProps],\n                ...payload\n            }\n        }\n    });\n\n    return {...state, objectsByHash: updatedObjectsByHash};\n}\n\nconst initialState = {};\n\nexport default (state = initialState, action) => {\n    let updatedObjectsByHash = {};\n\n    switch (action.type) {\n        case SELECT_OBJECTS:\n            return {...state, selectedObjectsId: state.selectedObjectsId.concat(action.payload.ids)}\n\n        case DESELECT_ALL_OBJECTS:\n            return {...state, selectedObjectsId: []}\n\n        case DESELECT_ALL_OBJECTS_EXEPT:\n            return {...state, selectedObjectsId: [action.payload]}\n\n        case MOVE_OBJECT:\n            return updateObjects(state, action.ids, action.payload);\n\n        case SET_SELECTED_OBJECTS_EDIT_START_POSITION:\n            updatedObjectsByHash = {...state.objectsByHash};\n\n            state.selectedObjectsId.forEach((id) => {\n                updatedObjectsByHash[id] = {\n                    ...updatedObjectsByHash[id],\n                    editStartPositionOffset: {\n                        x: action.payload.x - updatedObjectsByHash[id].x,\n                        y: action.payload.y - updatedObjectsByHash[id].y\n                    }\n                }\n            });\n\n            return {...state, objectsByHash: updatedObjectsByHash}\n\n        case RESIZE_OBJECTS:\n            return updateObjects(state, action.ids, action.payload);\n\n        case ROTATE_OBJECT:\n            return updateObjects(state, [action.id], action.payload);\n\n        case SET_VERTICAL_ALIGN:\n            return updateObjectNestedProps(state, state.selectedObjectsId, action.payload, 'textProps');\n\n        case SET_TEXT_ALIGN:\n            return updateObjectNestedProps(state, state.selectedObjectsId, action.payload, 'textProps');\n\n        case SET_FILL_COLOR:\n            return updateObjects(state, state.selectedObjectsId, action.payload);\n\n        case SET_STROKE_COLOR:\n            return updateObjects(state, state.selectedObjectsId, action.payload);\n\n        case SET_STROKE_WIDTH:\n            return updateObjects(state, state.selectedObjectsId, action.payload);\n\n        case ADD_NEW_OBJECT:\n            return {\n                ...state,\n                objectsById: [...state.objectsById, action.id],\n                objectsByHash: {\n                    ...state.objectsByHash,\n                    [action.id]: action.payload.object\n                }\n            }\n\n        case UPDATE_OBJECT_TEXT:\n            return updateObjects(state, [action.id], action.payload);\n\n        default:\n            return state\n    }\n}","import {\n    SET_MOUSE_START_POSITION,\n    SET_NEW_FIGURE_DRAG_DATA\n} from './../constants';\n\nconst initialState = {};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_MOUSE_START_POSITION:\n            return {\n                ...state,\n                mouseStartPosition: {\n                    x: action.x,\n                    y: action.y\n                }\n            }\n\n        case SET_NEW_FIGURE_DRAG_DATA:\n            return {\n                ...state,\n                newFigureDragData: action.data\n            }\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\nimport svgRender from './svgRenderReducer'\nimport layoutBuilder from './layoutBuilderReducer'\n\nexport default combineReducers({\n  svgRender, layoutBuilder\n})\n","export const UPDATE_EDIT_MODE = 'svgRender/UPDATE_EDIT_MODE';\nexport const SET_MOUSE_START_POSITION = 'layoutBuilder/SET_MOUSE_START_POSITION';\nexport const SELECT_OBJECTS = 'svgRender/SELECT_OBJECTS';\nexport const DESELECT_ALL_OBJECTS = 'svgRender/DESELECT_ALL_OBJECTS';\nexport const DESELECT_ALL_OBJECTS_EXEPT = 'svgRender/DESELECT_ALL_OBJECTS_EXEPT';\nexport const MOVE_OBJECT = 'svgRender/MOVE_OBJECT';\nexport const SET_SELECTED_OBJECTS_EDIT_START_POSITION = 'svgRender/SET_SELECTED_OBJECTS_EDIT_START_POSITION';\nexport const RESIZE_OBJECTS = 'svgRender/RESIZE_OBJECTS';\nexport const ROTATE_OBJECT = 'svgRender/ROTATE_OBJECT';\nexport const SET_VERTICAL_ALIGN = 'textTool/SET_VERTICAL_ALIGN';\nexport const SET_TEXT_ALIGN = 'textTool/SET_TEXT_ALIGN';\nexport const SET_FILL_COLOR = 'textTool/SET_FILL_COLOR';\nexport const SET_STROKE_COLOR = 'textTool/SET_STROKE_COLOR';\nexport const SET_STROKE_WIDTH = 'textTool/SET_STROKE_WIDTH';\nexport const SET_NEW_FIGURE_DRAG_DATA = 'laoutBuilder/SET_NEW_FIGURE_DRAG_DATA';\nexport const ADD_NEW_OBJECT = 'svgRender/ADD_NEW_OBJECT';\nexport const UPDATE_OBJECT_TEXT = 'svgRender/UPDATE_OBJECT_TEXT';","import {createStore, applyMiddleware, compose} from 'redux'\nimport {connectRouter, routerMiddleware} from 'connected-react-router'\nimport thunk from 'redux-thunk'\nimport createHistory from 'history/createBrowserHistory'\nimport rootReducer from './modules/rootReducer'\n\nexport const history = createHistory()\n\nconst initialState = {\n    layoutBuilder: {\n        newFigureDragData: null,\n        mouseStartPosition: {\n            x: null,\n            y: null\n        },\n    },\n    svgRender: {\n        editMode: null,\n        mousePosition: {\n            x: null,\n            y: null\n        },\n\n        selectedObjectsId: [],\n\n        objectsById: ['1', '2'],\n        objectsByHash: {\n            '1': {\n                id: '1',\n                width: 163,\n                height: 84,\n                rotate: 0,\n                strokeWidth: 3,\n                stroke: 'rgba(135, 38, 86, 1)',\n                fill: \"rgba(0, 123, 255, 1)\",\n                radius: \"0\",\n                type: \"rectangle\",\n                x: 17,\n                y: 15,\n                text: \"Lorem ipsum \\n dolor\",\n                textProps: {\n                    textAlign: 'center',\n                    verticalAlign: 'top'\n\n                }\n            },\n            '2': {\n                id: '2',\n                width: 200,\n                height: 300,\n                rotate: 0,\n                stroke: \"rgba(0, 255, 57, 1)\",\n                strokeWidth: 5,\n                fill: \"rgba(0, 123, 255, 1)\",\n                radius: \"0\",\n                type: \"rectangle\",\n                x: 200,\n                y: 50,\n                text: \"Lorem ipsum \\n dolor\",\n                textProps: {\n                    textAlign: 'right',\n                    verticalAlign: 'bottom'\n\n                }\n            }\n        }\n    }\n}\nconst enhancers = []\nconst middleware = [thunk, routerMiddleware(history)]\n\nif (process.env.NODE_ENV === 'development'\n) {\n    const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__\n\n    if (typeof devToolsExtension === 'function') {\n        enhancers.push(devToolsExtension())\n    }\n}\n\nconst composedEnhancers = compose(\n    applyMiddleware(...middleware),\n    ...enhancers\n)\n\nexport default createStore(\n    connectRouter(history)(rootReducer),\n    initialState,\n    composedEnhancers\n)\n","import {\n    UPDATE_EDIT_MODE,\n    SET_MOUSE_START_POSITION,\n    SELECT_OBJECTS,\n    DESELECT_ALL_OBJECTS,\n    DESELECT_ALL_OBJECTS_EXEPT,\n    MOVE_OBJECT,\n    SET_SELECTED_OBJECTS_EDIT_START_POSITION,\n    RESIZE_OBJECTS,\n    ROTATE_OBJECT,\n    SET_TEXT_ALIGN,\n    SET_VERTICAL_ALIGN,\n    SET_FILL_COLOR,\n    SET_STROKE_COLOR,\n    SET_STROKE_WIDTH,\n    ADD_NEW_OBJECT,\n    UPDATE_OBJECT_TEXT\n} from './../constants';\n\n\nexport const updateEditMode = (mode) => {\n    return dispatch => {\n        dispatch({\n            type: UPDATE_EDIT_MODE,\n            mode: mode\n        })\n\n    }\n}\n\nexport const setMouseStartPosition = (x, y) => {\n    return dispatch => {\n        dispatch({\n            type: SET_MOUSE_START_POSITION,\n            x: x,\n            y: y\n        })\n\n    }\n}\n\nexport const selectObjects = (ids) => {\n    return dispatch => {\n        dispatch({\n            type: SELECT_OBJECTS,\n            payload: {ids}\n        })\n    }\n}\n\nexport const deselectAllObjects = () => {\n    return dispatch => {\n        dispatch({\n            type: DESELECT_ALL_OBJECTS,\n        })\n    }\n}\n\nexport const deselectAllObjectsExept = (id) => {\n    return dispatch => {\n        dispatch({\n            type: DESELECT_ALL_OBJECTS_EXEPT,\n            payload: id\n        })\n    }\n}\n\n\nexport const moveObject = ({ids, payload}) => {\n    return dispatch => {\n        dispatch({\n            type: MOVE_OBJECT,\n            ids: ids,\n            payload: payload\n        })\n    }\n}\n\nexport const setSelectedObjectsEditStartPosition = (x, y) => {\n    return dispatch => {\n        dispatch({\n            type: SET_SELECTED_OBJECTS_EDIT_START_POSITION,\n            payload: {\n                x: x,\n                y: y\n            }\n        })\n    }\n}\n\n\nexport const resizeObjects = ({ids, payload}) => {\n    return dispatch => {\n        dispatch({\n            type: RESIZE_OBJECTS,\n            ids: ids,\n            payload: payload\n\n        })\n    }\n}\n\nexport const rotateObject = ({id, rotate}) => {\n    return dispatch => {\n        dispatch({\n            type: ROTATE_OBJECT,\n            id: id,\n            payload: {\n                rotate: rotate\n            }\n        })\n    }\n}\n\nexport const setTextAlign = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_TEXT_ALIGN,\n            payload: {\n                textAlign: value\n            }\n        })\n    }\n}\n\nexport const setVerticalAlign = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_VERTICAL_ALIGN,\n            payload: {\n                verticalAlign: value\n            }\n        })\n    }\n}\n\nexport const setFillColor = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_FILL_COLOR,\n            payload: {\n                fill: value === null ? 'none' : `rgba(${value.r}, ${value.g}, ${value.b}, ${value.a})`\n            }\n        })\n    }\n}\n\nexport const setStrokeColor = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_STROKE_COLOR,\n            payload: {\n                stroke: value === null ? 'none' : `rgba(${value.r}, ${value.g}, ${value.b}, ${value.a})`\n            }\n        })\n    }\n}\n\nexport const setStrokeWidth = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_STROKE_WIDTH,\n            payload: {\n                strokeWidth: value\n            }\n        })\n    }\n}\n\nexport const addNewObject = (object) => {\n    return dispatch => {\n        dispatch({\n            type: ADD_NEW_OBJECT,\n            id: object.id,\n            payload: {\n                object: object\n            }\n        })\n    }\n}\n\nexport const updateObjectText = ({id, text}) => {\n    return dispatch => {\n        dispatch({\n            type: UPDATE_OBJECT_TEXT,\n            id: id,\n            payload: {\n                text: text\n            }\n        })\n    }\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\n\nimport {\n    updateEditMode,\n    setMouseStartPosition,\n    selectObjects,\n    deselectAllObjects,\n    setSelectedObjectsEditStartPosition,\n    deselectAllObjectsExept\n} from '../../actions/index'\n\nclass Vector extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: 'default'\n        }\n    }\n\n    resetMode() {\n        this.setState({\n            mode: 'default'\n        })\n    }\n\n    componentDidMount() {\n        this.props.onRef(this)\n    }\n\n    onDoubleClick = (e) => {\n        this.setState({\n            mode: 'editText'\n        })\n    }\n\n    onMouseUp = (e) => {\n        const {object, mouseStartPosition, deselectAllObjectsExept} = this.props;\n        let objectMoved = mouseStartPosition.x !== e.clientX || mouseStartPosition.y !== e.clientY;\n\n        if (!e.shiftKey && !objectMoved) {\n            console.log('Vector onMouseUp')\n            deselectAllObjectsExept(object.id);\n        }\n    }\n\n    onMouseDown = (e) => {\n        console.log('Vector onMouseDown')\n\n        const {object, selectObjects, selectedObjectsId, deselectAllObjects, setSelectedObjectsEditStartPosition} = this.props;\n        const objectSelected = selectedObjectsId.includes(object.id);\n\n        this.setState({\n            mode: 'default'\n        })\n\n        if (!e.shiftKey && !objectSelected) {\n            deselectAllObjects();\n        }\n        if (!objectSelected) {\n            selectObjects([object.id])\n        }\n\n        //TODO move setSelectedObjectsEditStartPosition to DraggableObject\n        setSelectedObjectsEditStartPosition(e.clientX, e.clientY);\n        this.props.onMouseDown(e);\n    }\n\n    render() {\n        const {children, object, selectedObjectsId} = this.props;\n        const {mode} = this.state;\n        return React.cloneElement(children, {\n                onMouseUp: this.onMouseUp,\n                onMouseDown: this.onMouseDown,\n                onDoubleClick: this.onDoubleClick,\n                object: object,\n                selectedObjectsId: selectedObjectsId,\n                mode: mode\n            }\n        )\n    }\n}\n\nconst mapStateToProps = ({layoutBuilder}) => ({\n    mouseStartPosition: layoutBuilder.mouseStartPosition\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            updateEditMode,\n            setMouseStartPosition,\n            selectObjects,\n            deselectAllObjects,\n            setSelectedObjectsEditStartPosition,\n            deselectAllObjectsExept\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Vector)","//TODO make rotate more user friendly\nexport const getObjectRotateValue = ({mousePosition, mouseStartPosition, object}) => {\n    let angle = Math.atan2(\n        mouseStartPosition.x + (object.width || 0) / 2 - mousePosition.x,\n        mouseStartPosition.y + (object.height || 0) / 2 - mousePosition.y\n    );\n\n    let asDegree = angle * 180 / Math.PI;\n\n    return (asDegree - 45) * -1;\n}","export const getTransformMatrix = ({rotate, x, y, width, height}) => {\n    if (rotate) {\n        let centerX = width / 2 + x;\n        let centerY = height / 2 + y;\n        return `rotate(${rotate} ${centerX} ${centerY})`;\n    }\n}\n\nexport const getObjectAttributes = (object) => {\n    return {\n        transform: getTransformMatrix(object)\n    };\n}","import React from 'react'\nimport {getObjectAttributes} from '../../utils/vector.js';\n\nconst ObjectRotateTool = ({object, onMouseDown}) => {\n    const rotateIcon = {\n        x: object.x + object.width / 2 - 6,\n        y: object.y - 20\n    }\n\n    return (\n        <g {...getObjectAttributes(object)}>\n            <path cursor=\"pointer\" onMouseDown={onMouseDown}\n                  transform={'translate(' + rotateIcon.x + ' ' + rotateIcon.y + ')'} stroke=\"rgb(0, 0, 0, 0)\"\n                  strokeWidth=\"5\" d=\"M5.1,0.2L4.4,0.8c-0.1,0.1-0.1,0.2,0,0.3l1.1,1.1C4.2,2.1,2.8,2.5,1.7,3.5c-2,1.8-2.1,4.9-0.3,6.8\n                c1.8,2,4.8,2.1,6.8,0.3c0.9-0.8,1.4-1.9,1.5-3.1c0-0.1-0.1-0.3-0.2-0.3l-0.9,0c-0.1,0-0.2,0.1-0.2,0.2C8.3,8.2,7.9,9,7.2,9.6\n                c-1.4,1.3-3.6,1.2-4.8-0.2C1.1,8,1.2,5.8,2.6,4.5c0.9-0.8,2-1.1,3.1-0.8L4.2,5c-0.1,0.1-0.1,0.2,0,0.3L4.8,6c0.1,0.1,0.2,0.1,0.3,0\n                L8,3.4c0.1-0.1,0.1-0.2,0-0.3L5.4,0.2C5.3,0.1,5.2,0.1,5.1,0.2z\"/>\n        </g>\n    )\n}\n\nexport default ObjectRotateTool\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport {getObjectRotateValue} from '../../utils/rootateTool.js';\nimport ObjectRotateTool from './ObjectRotateTool';\n\nimport {\n    rotateObject,\n} from '../../actions/index'\n\n\nclass ObjectRotateToolContainer extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isRotate: false,\n            mouseStartPosition: {\n                x: null,\n                y: null\n            }\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.state.isRotate) {\n            document.addEventListener('mousemove', this.onMouseMove)\n            document.addEventListener('mouseup', this.onMouseUp)\n        }\n        else {\n            document.removeEventListener('mousemove', this.onMouseMove)\n            document.removeEventListener('mouseup', this.onMouseUp)\n        }\n    }\n\n    onMouseMove = (e) => {\n        const {object, rotateObject} = this.props;\n        const {mouseStartPosition} = this.state;\n        const mousePosition = {x: e.clientX, y: e.clientY};\n\n        rotateObject({\n                id: object.id,\n                rotate: getObjectRotateValue({mousePosition, mouseStartPosition, object})\n            }\n        );\n    }\n\n    onMouseUp = () => {\n        this.setState({\n            isRotate: false,\n            mouseStartPosition: {\n                x: null,\n                y: null\n            }\n        })\n    }\n\n    onMouseDown = (e) => {\n        this.setState({\n            isRotate: true,\n            mouseStartPosition: {\n                x: e.clientX,\n                y: e.clientY\n            }\n        })\n    }\n\n    render() {\n        const {object} = this.props;\n        return <ObjectRotateTool object={object} onMouseDown={this.onMouseDown}/>\n    }\n}\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            rotateObject\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(ObjectRotateToolContainer)","//TODO fix bug with resize when object rotated\n\nconst compose = (...funcs) => value =>\n    funcs.reduceRight((acc, func) => func(acc), value)\n\nconst getObjectResizeValuesSouth = (props) => {\n    let updatedObject = {...props.object};\n    let progress = props.mouse.y - props.mouseStartPosition.y;\n    let changeValue = props.objectInitState.height + progress;\n    updatedObject.y = changeValue > 0 ? props.objectInitState.y : props.objectInitState.y - Math.abs(changeValue);\n    updatedObject.height = Math.abs(changeValue);\n\n    return {...props, object: updatedObject};\n}\n\nconst getObjectResizeValuesNorth = (props) => {\n    let updatedObject = {...props.object};\n    let progress = props.mouse.y - props.mouseStartPosition.y;\n    let changeValue = props.objectInitState.height - progress;\n    updatedObject.y = changeValue > 0 ? props.objectInitState.y - (changeValue - props.objectInitState.height) : props.objectInitState.y + props.objectInitState.height;\n    updatedObject.height = Math.abs(changeValue);\n\n    return {...props, object: updatedObject};\n}\n\nconst getObjectResizeValuesEast = (props) => {\n    let updatedObject = {...props.object};\n\n    let progress = props.mouse.x - props.mouseStartPosition.x;\n    let changeValue = props.objectInitState.width + progress;\n    updatedObject.x = changeValue < 0 ? props.objectInitState.x + changeValue : props.objectInitState.x;\n    updatedObject.width = Math.abs(changeValue);\n\n    return {...props, object: updatedObject};\n}\n\nconst getObjectResizeValuesWest = (props) => {\n    let updatedObject = {...props.object};\n\n    let progress = props.mouse.x - props.mouseStartPosition.x;\n    let changeValue = props.objectInitState.width - progress;\n    updatedObject.x = changeValue > 0 ? props.objectInitState.x + progress : props.objectInitState.x + props.objectInitState.width;\n    updatedObject.width = Math.abs(changeValue);\n\n    return {...props, object: updatedObject};\n}\n\nconst getObjectResizeValuesNorthEast = compose(getObjectResizeValuesNorth, getObjectResizeValuesEast);\nconst getObjectResizeValuesSouthEast = compose(getObjectResizeValuesSouth, getObjectResizeValuesEast);\nconst getObjectResizeValueSouthWest = compose(getObjectResizeValuesSouth, getObjectResizeValuesWest);\nconst getObjectResizeValuesNorthWest = compose(getObjectResizeValuesNorth, getObjectResizeValuesWest);\n\nexport const getObjectResizeValues = (mouse, direction, objectInitState, mouseStartPosition, object) => {\n    let updatedObject = {...object};\n\n    switch (direction) {\n        case 's':\n            updatedObject = getObjectResizeValuesSouth({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'n':\n            updatedObject = getObjectResizeValuesNorth({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'e':\n            updatedObject = getObjectResizeValuesEast({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'w':\n            updatedObject = getObjectResizeValuesWest({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'ne':\n            updatedObject = getObjectResizeValuesNorthEast({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'se':\n            updatedObject = getObjectResizeValuesSouthEast({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'sw':\n            updatedObject = getObjectResizeValueSouthWest({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        case 'nw':\n            updatedObject = getObjectResizeValuesNorthWest({mouse, objectInitState, mouseStartPosition, object}).object;\n            break;\n        default:\n            break;\n    }\n\n    return updatedObject;\n}\n\nexport const getResizeObjectDotsConfig = (object) => {\n    return [\n        {\n            name: 'nw',\n            x: object.x,\n            y: object.y\n        },\n        {\n            name: 'n',\n            x: object.x + object.width / 2,\n            y: object.y\n        },\n        {\n            name: 'ne',\n            x: object.x + object.width,\n            y: object.y\n        },\n        {\n            name: 'w',\n            x: object.x,\n            y: object.y + object.height / 2\n        },\n        {\n            name: 'e',\n            x: object.x + object.width,\n            y: object.y + object.height / 2\n        },\n        {\n            name: 'sw',\n            x: object.x,\n            y: object.y + object.height\n        },\n        {\n            name: 's',\n            x: object.x + object.width / 2,\n            y: object.y + object.height\n        },\n        {\n            name: 'se',\n            x: object.x + object.width,\n            y: object.y + object.height\n        }\n    ]\n}","import React from 'react'\nimport {getResizeObjectDotsConfig} from \"../../utils/resizeTool\";\nimport {getObjectAttributes} from \"../../utils/vector\";\n\nconst ObjectResizeTool = ({object, onMouseDown}) => {\n    const dotsConfig = getResizeObjectDotsConfig(object);\n\n    return (\n        <g {...getObjectAttributes(object)}>\n            <rect\n                width={object.width}\n                height={object.height}\n                x={object.x}\n                y={object.y}\n                fill=\"none\" stroke=\"#00a8ff\" strokeDasharray=\"3 3\" pointerEvents=\"none\"/>\n\n            {dotsConfig.map(function (dot) {\n                return <circle key={dot.name} name={dot.name} cx={dot.x} cy={dot.y} fill=\"#34B7EF\" r=\"5\"\n                               style={{cursor: dot.name + '-resize'}} onMouseDown={onMouseDown}/>\n            })}\n        </g>\n    )\n}\n\nexport default ObjectResizeTool;","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport {getObjectResizeValues} from '../../utils/resizeTool';\nimport ObjectResizeTool from './ObjectResizeTool';\n\nimport {\n    resizeObjects\n} from '../../actions/index'\n\nclass ObjectResizeToolContainer extends React.PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isResizing: false,\n            mouseStartPosition: {\n                x: null,\n                y: null\n            },\n            resizeDirection: null,\n            objectInitState: null\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.state.isResizing) {\n            document.addEventListener('mousemove', this.onMouseMove)\n            document.addEventListener('mouseup', this.onMouseUp)\n        }\n        else {\n            document.removeEventListener('mousemove', this.onMouseMove)\n            document.removeEventListener('mouseup', this.onMouseUp)\n        }\n    }\n\n    onMouseMove = (e) => {\n        const {object, resizeObjects} = this.props;\n        const {mouseStartPosition, resizeDirection, objectInitState} = this.state;\n        const mousePosition = {x: e.clientX, y: e.clientY};\n        const updatedValues = getObjectResizeValues(\n            mousePosition,\n            resizeDirection,\n            objectInitState,\n            mouseStartPosition,\n            {x: object.x, y: object.y, width: object.width, height: object.height}\n        );\n        resizeObjects({\n                ids: [object.id],\n                payload: {...updatedValues}\n            }\n        );\n    }\n\n    onMouseUp = () =>{\n        this.setState({\n            isResizing: false,\n            mouseStartPosition: {\n                x: null,\n                y: null\n            }\n        })\n    }\n\n    onMouseDown = (e) => {\n        const {object} = this.props;\n\n        this.setState({\n            isResizing: true,\n            objectInitState: {...object},\n            resizeDirection: e.target.getAttribute('name'),\n            mouseStartPosition: {\n                x: e.clientX,\n                y: e.clientY\n            }\n        })\n    }\n\n    render = () => <ObjectResizeTool object={this.props.object} onMouseDown={this.onMouseDown}/>\n}\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            resizeObjects\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(ObjectResizeToolContainer)\n","export const getTextAttributes = (object, textState) => {\n    let y = 0;\n\n    switch(object.textProps.verticalAlign) {\n        case 'top': y = object.y; break;\n        case 'middle': y = object.y + object.height / 2 - textState.height / 2; break;\n        case 'bottom': y = object.y + object.height - textState.height; break;\n        default: y = object.y + object.height / 2 - textState.height / 2;\n    }\n\n\n    return {\n        width: object.width,\n        height: textState.height,\n        overflow: 'visible',\n        x: object.x,\n        y: y,\n    }\n}\n\n\nexport const getTextWrapAttributes = (object) => {\n    let style = {\n        textAlign: object.textProps.textAlign\n    };\n\n    return {\n        style: style\n    }\n}\n\nexport const getTextEditorAttributes = (object) => {\n    let style = {\n        textAlign: object.textProps.textAlign,\n        width: '100%',\n        background: 'transparent',\n        border: 'none',\n        outline: 'none',\n        padding: 0,\n        margin: 0\n    };\n\n    return {\n        style: style\n    }\n}","import React from 'react'\nimport {getObjectAttributes} from '../../utils/vector.js';\nimport {getTextAttributes, getTextWrapAttributes} from '../../utils/text.js';\n\nconst Text = ({object, textSize, setRef}) => {\n    return (\n        <g>\n            <foreignObject\n                pointerEvents=\"none\"\n                {...getObjectAttributes(object)}\n                {...getTextAttributes(object, textSize)}\n            >\n                <div {...getTextWrapAttributes(object)} ref={setRef}>\n                    <div xmlns=\"http://www.w3.org/1999/xhtml\" style={{display: 'inline-block'}}>\n                        {object.text.split(\"\\n\").map((i, key) => {\n                            return <div key={key}>{i === '' ? '\\u00A0' : i}</div>;\n                        })}\n                    </div>\n                </div>\n            </foreignObject>\n        </g>\n    )\n}\n\nexport default Text","import React from 'react'\nimport Text from \"./Text\";\n\nclass TextContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.divTextWrapRef = React.createRef();\n\n        this.state = {\n            height: 0,\n            width: 0\n        }\n    }\n\n    onResize() {\n        const {height, width} = this.divTextWrapRef.current.getBoundingClientRect();\n        this.setState({height, width});\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.object.width !== this.props.object.width || prevProps.object.height !== this.props.object.height) {\n            this.onResize();\n        }\n    }\n\n    componentDidMount() {\n        this.onResize();\n    }\n\n    render() {\n        const {object} = this.props;\n\n        return (\n            <Text object={object} textSize={this.state} setRef={this.divTextWrapRef}/>\n        )\n    }\n}\n\nexport default TextContainer","import React from 'react'\nimport Textarea from 'react-textarea-autosize';\nimport {getObjectAttributes} from '../../utils/vector.js';\nimport {getTextAttributes, getTextEditorAttributes} from '../../utils/text.js';\n\nconst TextEditor = ({object, textSize, setRef, onInputChange, onHeightChange}) => {\n    return (\n        <g>\n            <foreignObject\n                {...getObjectAttributes(object)}\n                {...getTextAttributes(object, textSize)}\n            >\n                <div ref={setRef}>\n                    <Textarea onHeightChange={onHeightChange} {...getTextEditorAttributes(object)} defaultValue={object.text} onChange={onInputChange}/>\n                </div>\n            </foreignObject>\n        </g>\n    )\n}\n\nexport default TextEditor","import React from 'react'\nimport TextEditor from \"./TextEditor\";\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\n\nimport {updateObjectText} from \"../../actions/index\";\n\nclass TextEditorContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.divTextWrapRef = React.createRef();\n\n        this.state = {\n            height: 0,\n            width: 0\n        }\n    }\n\n    onResize() {\n        const {height, width} = this.divTextWrapRef.current.getBoundingClientRect();\n        this.setState({height, width});\n    }\n\n    onHeightChange = () => {\n        this.onResize();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.object.width !== this.props.object.width || prevProps.object.height !== this.props.object.height) {\n            this.onResize();\n        }\n    }\n\n    componentDidMount() {\n        this.onResize();\n    }\n\n    onInputChange = (e) => {\n        this.props.updateObjectText({\n            id: this.props.object.id,\n            text: e.target.value\n        })\n        this.onResize()\n    }\n\n    render() {\n        const {object} = this.props;\n\n        return (\n            <TextEditor object={object} textSize={this.state} setRef={this.divTextWrapRef}\n                        onInputChange={this.onInputChange} onHeightChange={this.onHeightChange}/>\n        )\n    }\n}\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            updateObjectText\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(TextEditorContainer)\n","import React from 'react'\nimport ObjectRotateTool from '../ObjectRotateTool/ObjectRotateToolContainer.js';\nimport ObjectResizeTool from '../ObjectResizeTool/ObjectResizeToolContainer.js';\nimport Text from './TextContainer';\nimport TextEditor from './../TextEditor/TextEditorContainer';\nimport {getObjectAttributes} from '../../utils/vector.js';\n\nconst Rectangle = ({object, onMouseDown, onMouseUp, onDoubleClick, selectedObjectsId, mode}) => {\n    return (\n        <g>\n            <rect {...getObjectAttributes(object)}\n                  width={object.width}\n                  height={object.height}\n                  x={object.x}\n                  y={object.y}\n                  pointerEvents=\"visible\"\n                  cursor=\"move\"\n                  fill={object.fill}\n                  strokeWidth={object.strokeWidth}\n                  stroke={object.stroke}\n                  onMouseDown={onMouseDown}\n                  onMouseUp={onMouseUp}\n                  onDoubleClick={onDoubleClick}\n            />\n\n            {object.text && mode !== 'editText' ? <Text object={object}/> : null}\n            {mode === 'editText' ? <TextEditor object={object}/> : null}\n\n            {selectedObjectsId.includes(object.id) ? <g><ObjectResizeTool object={object}/> <ObjectRotateTool object={object}/></g> : null}\n\n        </g>\n    )\n}\n\nexport default Rectangle","import React from 'react'\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\n\nimport {\n    moveObject\n} from '../../actions/index'\n\nclass FigureDragger extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isDrag: false,\n            mouseStartPosition: {\n                x: null,\n                y: null\n            }\n        }\n    }\n\n    componentDidUpdate(){\n        if (this.state.isDrag) {\n            document.addEventListener('mousemove', this.onMouseMove)\n            document.addEventListener('mouseup', this.onMouseUp)\n        }\n        else {\n            document.removeEventListener('mousemove', this.onMouseMove)\n            document.removeEventListener('mouseup', this.onMouseUp)\n        }\n    }\n\n    onMouseMove = (e) => {\n        let {isDrag} = this.state;\n        let {selectedObjects, moveObject} = this.props;\n        if (!isDrag) return;\n\n        //TODO prevent move objects out of SVG render\n        selectedObjects.forEach(function (object) {\n            moveObject({\n                ids: [object.id],\n                payload: {\n                    x: e.clientX - object.editStartPositionOffset.x,\n                    y: e.clientY - object.editStartPositionOffset.y\n                }\n            });\n        })\n    }\n\n    onMouseUp = (e) => {\n        this.setState({\n            isDrag: false\n        })\n    }\n\n    onChildMouseDown = (e) => {\n        this.setState({\n            isDrag: true,\n            mouseStartPosition: {\n                x: e.clientX,\n                y: e.clientY\n            }\n        })\n    }\n\n    render() {\n        return React.Children.map(this.props.children, child => {\n                    return React.cloneElement(child, {onMouseDown: this.onChildMouseDown })\n                })\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    selectedObjects: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjectsId: svgRender.selectedObjectsId\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            moveObject\n        },\n        dispatch\n    )\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FigureDragger)\n","import React, {useRef} from 'react'\nimport Object from '../Figures/Object';\nimport Rectangle from '../Figures/Rectangle';\nimport Text from '../Figures/Text';\nimport DraggableObject from '../DraggableObject/DraggableObject';\n\nclass SvgRender extends React.Component {\n    constructor(props) {\n        super(props);\n        this.objectChild = React.createRef();\n    }\n\n    onMouseDown = (e) => {\n        if (e.target.id === 'svg-render') {\n            this.objectChild.resetMode();\n        }\n    }\n\n    render(){\n        const {objectsById, objectsByHash, selectedObjectsId} = this.props;\n\n        return (\n            <svg id=\"svg-render\" width='800' height='500' onMouseDown={this.onMouseDown.bind(this)}>\n\n                <DraggableObject>\n                    {objectsById.map((item, index) => {\n                        let vectorType = null;\n                        switch (objectsByHash[item].type) {\n                            case 'rectangle': {\n                                vectorType = <Rectangle/>;\n                                break;\n                            }\n                            case 'text': {\n                                vectorType = <Text/>;\n                                break;\n                            }\n                            default: {\n                                break;\n                            }\n                        }\n                        return (\n                            <Object onRef={ref => (this.objectChild = ref)} key={index} object={objectsByHash[item]} selectedObjectsId={selectedObjectsId}>\n                                {vectorType}\n                            </Object>\n                        )\n                    })}\n                </DraggableObject>\n            </svg>\n        )\n    }\n}\n\nexport default SvgRender\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport SvgRender from './SvgRender';\n\nconst SvgRenderContainer = ({selectedObjectsId, objectsById, objectsByHash}) => {\n    return <SvgRender\n                selectedObjectsId={selectedObjectsId}\n                objectsById={objectsById}\n                objectsByHash={objectsByHash}\n            />\n}\n\nconst mapStateToProps = ({svgRender, resizeTool, layoutBuilder}) => ({\n    selectedObjectsId: svgRender.selectedObjectsId,\n    objectsById: svgRender.objectsById,\n    objectsByHash: svgRender.objectsByHash\n})\n\nexport default connect(\n    mapStateToProps,\n    null\n)(SvgRenderContainer)","import React from 'react'\nimport textPanelStyle from './TextPanel.module.scss';\n\nconst buttonsConfig = [\n    {\n        value: 'top',\n        label: 'Top',\n    },\n    {\n        value: 'middle',\n        label: 'Middle',\n    },\n    {\n        value: 'bottom',\n        label: 'Bottom',\n    }\n]\n\nclass VerticalAlignPanel extends React.Component {\n    onClick(e) {\n        this.props.setVerticalAlign(e.target.value);\n    }\n\n    render() {\n        let self = this;\n\n        return (\n            <div>\n                Vertical Align\n\n                <div className=\"vertical-align-btn-group\">\n\n                    {\n                        buttonsConfig.map((button) => {\n                            return (\n                                <button\n                                    className={self.props.activeValue === button.value ? `${textPanelStyle['vertical-align-btn-group__btn_active']}` : null}\n                                    key={button.value} value={button.value}\n                                    onClick={self.onClick.bind(this)}>{button.label}</button>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default VerticalAlignPanel;\n","import React from 'react'\nimport textPanelStyle from './TextPanel.module.scss';\n\nconst buttonsConfig = [\n    {\n        value: 'left',\n        label: 'Left',\n    },\n    {\n        value: 'center',\n        label: 'Center',\n    },\n    {\n        value: 'right',\n        label: 'Right',\n    }\n]\n\nclass TextAlignPanel extends React.Component {\n    onClick(e) {\n        this.props.setTextAlign(e.target.value);\n    }\n\n    render() {\n        let self = this;\n\n        return (\n            <div>\n                Text Align\n\n                <div className=\"text-align-btn-group\">\n\n                    {\n                        buttonsConfig.map((button) => {\n                            return (\n                                <button\n                                    className={self.props.activeValue === button.value ? `${textPanelStyle['text-align-btn-group__btn_active']}` : null}\n                                    key={button.value} value={button.value}\n                                    onClick={self.onClick.bind(this)}>{button.label}</button>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TextAlignPanel;\n","Object.byString = function(o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    s = s.replace(/^\\./, '');           // strip a leading dot\n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n}\n\nexport const getEqualPropertyValueFromSelectedObjects = (objects, key) => {\n    let values = [];\n\n    if (objects.length > 0){\n        objects.forEach((object => {\n            values.push(Object.byString(object, key));\n        }))\n    }\n\n    values.every( (val, i, arr) => val === arr[0] )   // true\n\n    return values.every( (val, i, arr) => val === arr[0]) ? values[0] : false;\n}\n\nexport const isInt = (value) => {\n    return !isNaN(value) &&\n        parseInt(Number(value)) === value &&\n        !isNaN(parseInt(value, 10));\n}\n\nexport const generateID = () => {\n    return '_' + Math.random().toString(36).substr(2, 9);\n}\n\nexport const isMouseOnElement = (node, mousePosition) => {\n    const {left, right, top, bottom} = node.getBoundingClientRect();\n    return (mousePosition.x > left && mousePosition.x < right) && (mousePosition.y > top && mousePosition.y < bottom)\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport VerticalAlignPanel from './VerticalAlignPanel';\nimport TextAlignPanel from './TextAlignPanel';\n\nimport {\n    setTextAlign,\n    setVerticalAlign\n} from './../../../../src/actions'\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from '../../../utils/helpers';\n\n\nclass TextPanel extends React.Component {\n    render() {\n        const {selectedObjectsByHash, setVerticalAlign, setTextAlign} = this.props;\n\n        return (\n            <div>\n                <VerticalAlignPanel setVerticalAlign={setVerticalAlign.bind(this)} activeValue={getEqualPropertyValueFromSelectedObjects(selectedObjectsByHash, 'textProps.verticalAlign')}/>\n                <TextAlignPanel setTextAlign={setTextAlign.bind(this)} activeValue={getEqualPropertyValueFromSelectedObjects(selectedObjectsByHash, 'textProps.textAlign')}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    selectedObjectsByHash: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjects: svgRender.selectedObjectsId\n\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            setTextAlign,\n            setVerticalAlign\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TextPanel)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport NumericInput from 'react-numeric-input';\n\nimport {resizeObjects} from './../../actions/index';\n\nimport style from './index.module.scss';\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from '../../utils/helpers';\n\nclass SizePanel extends React.Component {\n    onChange(name, value) {\n        let self = this;\n        const payload = name === 'width' ? {width: value} : {height: value};\n\n        self.props.resizeObjects({\n                ids: this.props.selectedObjectsId,\n                payload: payload\n\n            }\n        )\n    }\n\n    render() {\n        return (\n            <div className={`${style['tool-panel-block']} ${style['tool-panel-block-size']}`}>\n                <div className={style['tool-panel-block__name']}>\n                    Size\n                </div>\n                <div className={style['input-group']}>\n                    <div className={style['input-group-item']}>\n                        <NumericInput\n                            value={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'width')}\n                            name=\"width\"\n                            onChange={this.onChange.bind(this, 'width')}/>\n                        Width\n\n                    </div>\n\n                    <div className={style['input-group-item']}>\n                        <NumericInput\n                            value={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'height')}\n                            name=\"height\"\n                            onChange={this.onChange.bind(this, 'height')}/>\n                        Height\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender, resizeTool}) => ({\n    selectedObjects: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjectsId: svgRender.selectedObjectsId\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            resizeObjects\n        },\n        dispatch\n    )\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SizePanel)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport NumericInput from 'react-numeric-input';\n\nimport {moveObject} from './../../actions/index';\n\nimport style from './index.module.scss';\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from '../../utils/helpers';\n\nclass PositionPanel extends React.Component {\n    onChange(name, value) {\n        let self = this;\n        const payload = name === 'x' ? {x: value} : {y: value};\n\n        self.props.moveObject({\n                ids: this.props.selectedObjectsId,\n                payload: payload\n\n            }\n        )\n    }\n\n    render() {\n        return (\n            <div className={`${style['tool-panel-block']} ${style['tool-panel-block-position']}`}>\n                <div className={style['tool-panel-block__name']}>\n                    Position\n                </div>\n                <div className={style['input-group']}>\n                    <div className={style['input-group-item']}>\n                        <NumericInput\n                            value={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'x')}\n                            name=\"x\"\n                            onChange={this.onChange.bind(this, 'x')}/>\n                        Left\n\n                    </div>\n\n                    <div className={style['input-group-item']}>\n                        <NumericInput\n                            value={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'y')}\n                            name=\"y\"\n                            onChange={this.onChange.bind(this, 'y')}/>\n                        Top\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender, resizeTool}) => ({\n    selectedObjects: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjectsId: svgRender.selectedObjectsId\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            moveObject\n        },\n        dispatch\n    )\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PositionPanel)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport {ChromePicker} from 'react-color';\n\nimport colorPickerStyle from './../colorPicker.module.scss';\nimport toolPanelStyle from './../index.module.scss';\n\nimport {setFillColor} from '../../../actions/index';\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from '../../../utils/helpers';\n\n\nclass FillPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            displayColorPicker: false\n        }\n    }\n\n    handleReset() {\n        this.props.setFillColor(null)\n    }\n\n    handleClickSwatch() {\n        this.setState({\n            displayColorPicker: !this.state.displayColorPicker\n        })\n    }\n\n    handleChangeComplete(color) {\n        this.setState({\n            color: color\n\n        })\n        this.props.setFillColor(color.rgb)\n    }\n\n    render() {\n        const equalColorValue = getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'fill');\n\n        return (\n            <div className={`${toolPanelStyle['tool-panel-block']} ${toolPanelStyle['tool-panel-block-fill']}`}>\n                <div className={toolPanelStyle['tool-panel-block__name']}>\n                    Fill\n                </div>\n\n                <div>\n                    <div className={colorPickerStyle.swatch} onClick={this.handleClickSwatch.bind(this)}>\n                        {equalColorValue === 'none' || equalColorValue === false ?\n                            <div className={colorPickerStyle.colorNone}/> :\n                            <div style={{background: equalColorValue}} className={colorPickerStyle.color}/>}\n                    </div>\n\n                    <button className={colorPickerStyle['reset-btn']} onClick={this.handleReset.bind(this)}>Reset</button>\n\n                    {this.state.displayColorPicker ? <ChromePicker\n                        className={colorPickerStyle.colorPicker}\n                        color={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'fill')}\n                        onChangeComplete={this.handleChangeComplete.bind(this)}\n                    /> : null}\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    selectedObjects: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjectsId: svgRender.selectedObjectsId\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            setFillColor\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FillPanel)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport {ChromePicker} from 'react-color';\n\nimport colorPickerStyle from './../colorPicker.module.scss';\nimport toolPanelStyle from './../index.module.scss';\n\nimport {setStrokeColor, setStrokeWidth} from '../../../actions/index';\nimport NumericInput from 'react-numeric-input';\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from '../../../utils/helpers';\n\n\nclass FillPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            displayColorPicker: false\n        }\n    }\n\n    handleReset() {\n        this.props.setStrokeColor(null)\n    }\n\n    handleClickSwatch() {\n        this.setState({\n            displayColorPicker: !this.state.displayColorPicker\n        })\n    }\n\n    handleChangeComplete(color) {\n        this.setState({\n            color: color\n\n        })\n        this.props.setStrokeColor(color.rgb)\n    }\n\n    onChangeStrokeWidth(name, value) {\n        let self = this;\n\n        self.props.setStrokeWidth(value);\n    }\n\n    render() {\n        const equalColorValue = getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'stroke');\n\n        return (\n            <div className={`${toolPanelStyle['tool-panel-block']}`}>\n                <div className={toolPanelStyle['tool-panel-block__name']}>\n                    Line\n                </div>\n\n                <div>\n                    <div className={colorPickerStyle.swatch} onClick={this.handleClickSwatch.bind(this)}>\n                        {equalColorValue === 'none' || equalColorValue === false ?\n                            <div className={colorPickerStyle.colorNone}/> :\n                            <div style={{background: equalColorValue}} className={colorPickerStyle.color}/>}\n                    </div>\n\n                    <button className={colorPickerStyle['reset-btn']} onClick={this.handleReset.bind(this)}>Reset\n                    </button>\n\n                    {this.state.displayColorPicker ? <ChromePicker\n                        className={colorPickerStyle.colorPicker}\n                        color={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'stroke')}\n                        onChangeComplete={this.handleChangeComplete.bind(this)}\n                    /> : null}\n\n                    <div className={toolPanelStyle['input-group']}>\n                        <div className={toolPanelStyle['input-group-item']}>\n                            <NumericInput\n                                value={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'strokeWidth')}\n                                onChange={this.onChangeStrokeWidth.bind(this)}/>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    selectedObjects: svgRender.selectedObjectsId.map((item) => svgRender.objectsByHash[item]),\n    selectedObjectsId: svgRender.selectedObjectsId\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            setStrokeColor,\n            setStrokeWidth\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FillPanel)\n","import {\n    SET_NEW_FIGURE_DRAG_DATA\n} from './../constants';\n\n\nexport const setNewFigureDragData = (data) => {\n    return dispatch => {\n        dispatch({\n            type: SET_NEW_FIGURE_DRAG_DATA,\n            data: data\n        })\n\n    }\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\n\nimport toolPanelStyle from './../index.module.scss';\nimport toolPanelFiguresrStyle from './Figures.module.scss';\n\nimport {setNewFigureDragData} from \"../../../actions/layoutBuilderActions\"\n\nclass Figures extends React.Component {\n    handleFigureClick(refName, e){\n        let clientRect = ReactDOM.findDOMNode(this.refs[refName]).getBoundingClientRect();\n\n        this.props.setNewFigureDragData({\n            figureType: refName,\n            figureOffset: {\n                x: clientRect.left - e.clientX,\n                y: clientRect.top - e.clientY\n            }\n        })\n    }\n\n    render() {\n\n        return (\n            <div className={`${toolPanelStyle['tool-panel-block']} ${toolPanelStyle['tool-panel-block-figures']}`}>\n                <div className={toolPanelStyle['tool-panel-block__name']}>\n                    Figures\n                </div>\n\n                <div>\n                    <input className={`${toolPanelFiguresrStyle['rectangle']}`} type=\"button\"\n                           onMouseDown={this.handleFigureClick.bind(this, 'rectangle')} ref=\"rectangle\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            setNewFigureDragData\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(Figures)\n","import React from 'react'\nimport TextPanel from './TextPanel';\nimport SizePanel from './SizePanel';\nimport PositionPanel from './PositionPanel';\nimport FillPanel from './FillPanel/FillPanel';\nimport StrokePanel from './StrokePanel/StrokePanel';\nimport Figures from './Figures/Figures'\n\nimport styles from './index.module.scss';\n\nclass ToolPanel extends React.Component {\n    render() {\n        return (\n            <div className={styles.toolPanel}>\n                <Figures/>\n                <TextPanel/>\n                <PositionPanel/>\n                <SizePanel/>\n                <FillPanel/>\n                <StrokePanel/>\n            </div>\n        )\n    }\n}\n\nexport default ToolPanel\n","import React from 'react'\nimport toolPanelVectorStyle from '../ToolPanel/Figures/Figures.module.scss';\n\nconst NewDraggableObject = ({objectPosition}) => {\n\n    const dragItemPosition = {\n        left: objectPosition.x,\n        top: objectPosition.y\n    };\n\n    return (\n        <div className={`${toolPanelVectorStyle['new-figure']} ${toolPanelVectorStyle['rectangle']}`}\n             style={dragItemPosition}/>\n\n    );\n}\n\n\nexport default NewDraggableObject\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\n\nimport {generateID, isMouseOnElement} from \"../../utils/helpers\"\n\nimport {setNewFigureDragData} from \"../../actions/layoutBuilderActions\"\nimport {addNewObject} from \"../../actions/index\"\n\nimport NewDraggableObject from './NewDraggableObject';\n\nclass NewDraggableObjectContainer extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            objectPosition: {\n                x: null,\n                y: null\n            }\n        }\n    }\n\n    onMouseUp = (e) => {\n        if (this.props.newFigureDragData === null) return;\n\n        const svgRenderClientRect = ReactDOM.findDOMNode(this.refs['SvgRenderContainer']);\n        const mousePosition = {x: e.clientX, y: e.clientY};\n\n        if (isMouseOnElement(svgRenderClientRect, mousePosition)) {\n            this.props.addNewObject({\n                    id: generateID(),\n                    width: 30,\n                    height: 20,\n                    stroke: 'rgba(0, 0, 0, 1)',\n                    fill: 'none',\n                    radius: \"0\",\n                    type: \"rectangle\",\n                    x: this.state.objectPosition.x,\n                    y: this.state.objectPosition.y\n                }\n            )\n        }\n        this.resetData();\n\n    }\n\n    resetData() {\n        this.props.setNewFigureDragData(null);\n        this.setState({\n            mousePosition: {\n                x: null,\n                y: null\n            }\n        })\n    }\n\n    getOffset = () => {\n        const {x, y} = ReactDOM.findDOMNode(this.refs['SvgRenderContainer']).getBoundingClientRect();\n        return {offsetX: x, offsetY: y}\n    }\n\n    onMouseMove = (e) => {\n        if (this.props.newFigureDragData === null) return;\n\n        const {offsetX, offsetY} = this.getOffset()\n        if (this.props.newFigureDragData !== null) {\n            this.setState({\n                objectPosition: {\n                    x: e.clientX - offsetX + this.props.newFigureDragData.figureOffset.x,\n                    y: e.clientY - offsetY + this.props.newFigureDragData.figureOffset.y\n                }\n            })\n        }\n    }\n\n    recursiveCloneChildren = (children) => {\n        return React.Children.map(children, child => {\n            let childProps = {};\n            if (React.isValidElement(child)) {\n                childProps = {ref: child.ref};\n            }\n            childProps.children = this.recursiveCloneChildren(child.props.children);\n\n            return React.cloneElement(child, childProps);\n        })\n    }\n\n    render() {\n        const {objectPosition} = this.state;\n        const {newFigureDragData, children} = this.props;\n\n        return (\n            <div className=\"new-figure-drag-helper\" onMouseMove={this.onMouseMove}\n                 onMouseUp={this.onMouseUp}>\n                {this.recursiveCloneChildren(children)}\n\n                {newFigureDragData !== null ? <NewDraggableObject objectPosition={objectPosition}/> : null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({layoutBuilder}) => ({\n    newFigureDragData: layoutBuilder.newFigureDragData\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n        setNewFigureDragData,\n        addNewObject\n    }, dispatch)\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(NewDraggableObjectContainer)\n","import React, {Component} from 'react';\n\nconst SelectTool = ({selectToolPosition, selectToolSize}) => {\n    const divStyle = {\n        position: 'absolute',\n        top: selectToolPosition.y + 'px',\n        left: selectToolPosition.x + 'px',\n        width: selectToolSize.width + 'px',\n        height: selectToolSize.height + 'px',\n        border: \"1px solid #6298F9\",\n        backgroundColor: \"rgba(98, 152, 249, 0.3)\"\n    };\n\n    return (\n        <div style={divStyle}/>\n    );\n}\n\nexport default SelectTool;\n\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\nimport SelectTool from './SelectTool'\nimport {getSelectToolSize, getSelectToolPosition, checkRectRectCollision} from '../../utils/selectTool';\n\nimport {\n    deselectAllObjects,\n    selectObjects\n} from '../../actions/index'\n\nclass SelectToolContainer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.selectToolContainerRef = React.createRef();\n\n        this.state = {\n            selectToolActive: false,\n            selectToolStartPoint: {\n                x: null,\n                y: null\n            },\n            selectToolSize: {\n                width: null,\n                height: null\n            },\n            selectToolPosition: {\n                x: null,\n                y: null\n            }\n        }\n    }\n\n    getSvgOffset = () => {\n        const {x, y} = this.selectToolContainerRef.current.getBoundingClientRect();\n        return {offsetX: x, offsetY: y}\n    }\n\n    onMouseMove = (e) => this.updateSelectToolData({x: e.clientX, y: e.clientY});\n\n    onMouseUp = () => {\n        const {selectToolActive} = this.state;\n\n        if (selectToolActive) {\n            this.endSelect();\n        }\n    }\n\n    onMouseDown = (e) => {\n        if (e.target.id === 'svg-render') {\n            this.setState({\n                selectToolActive: true\n            })\n            this.startSelect({mouseX: e.clientX, mouseY: e.clientY});\n        }\n    }\n\n    setSelectStartPosition(mousePosition) {\n        const {offsetX, offsetY} = this.getSvgOffset();\n        this.setState({\n            selectToolStartPoint: {\n                x: mousePosition.x - offsetX,\n                y: mousePosition.y - offsetY\n            }\n        })\n    }\n\n    startSelect({mouseX, mouseY}) {\n        this.setSelectStartPosition({x: mouseX, y: mouseY});\n        this.updateSelectToolData({x: mouseX, y: mouseY});\n    }\n\n    endSelect() {\n        this.handleSelectTool();\n        this.resetSelectToolData();\n    }\n\n    handleSelectTool() {\n        const {selectToolPosition, selectToolSize} = this.state;\n        const {deselectAllObjects, selectObjects, objectsById, objectsByHash} = this.props;\n\n        deselectAllObjects();\n\n        if (selectToolSize.width === null || selectToolSize.height === null) return;\n\n        let selectedObjectIds = [];\n        objectsById.forEach((item) => {\n            const object = objectsByHash[item];\n            if (checkRectRectCollision({\n                        x: object.x,\n                        y: object.y,\n                        width: object.width,\n                        height: object.height\n                    },\n                    {\n                        x: selectToolPosition.x,\n                        y: selectToolPosition.y,\n                        width: selectToolSize.width,\n                        height: selectToolSize.height\n                    })) {\n                selectedObjectIds.push(object.id);\n            }\n        })\n\n        if (selectedObjectIds.length) {\n            selectObjects(selectedObjectIds)\n        }\n    }\n\n    resetSelectToolData() {\n        this.setState({\n            selectToolActive: false,\n            selectToolStartPoint: {x: null, y: null},\n            selectToolSize: {width: null, height: null},\n            selectToolPosition: {x: null, y: null},\n        });\n    }\n\n    updateSelectToolData(mousePosition) {\n        const {offsetX, offsetY} = this.getSvgOffset();\n        const svgOffset = {x: offsetX, y: offsetY};\n        const {selectToolStartPoint} = this.state;\n\n        if (selectToolStartPoint.x === null) return;\n\n        const selectToolSize = getSelectToolSize(\n            selectToolStartPoint,\n            mousePosition,\n            svgOffset\n        );\n        const selectToolPosition = getSelectToolPosition(\n            selectToolStartPoint,\n            mousePosition,\n            svgOffset,\n            selectToolSize\n        );\n\n        this.setState({\n            selectToolPosition: selectToolPosition,\n            selectToolSize: selectToolSize\n        })\n    }\n\n    render() {\n        const {children} = this.props;\n        const {selectToolActive, selectToolPosition, selectToolSize} = this.state;\n        return (\n            <div\n                onMouseDown={this.onMouseDown}\n                onMouseMove={this.onMouseMove}\n                onMouseUp={this.onMouseUp}\n                ref={this.selectToolContainerRef}\n                className=\"select-tool-wrap\"\n            >\n                {children}\n                {selectToolActive ?\n                    <SelectTool selectToolPosition={selectToolPosition} selectToolSize={selectToolSize}/> : null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    objectsByHash: svgRender.objectsByHash,\n    objectsById: svgRender.objectsById,\n\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            deselectAllObjects,\n            selectObjects\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SelectToolContainer)\n","//TODO fix select for rotated objects\n\nexport const getSelectToolPosition = (startPoint, mouse, svgOffset, size) => {\n    const x = mouse.x - svgOffset.x > startPoint.x ? startPoint.x : startPoint.x - size.width;\n    const y = mouse.y - svgOffset.y > startPoint.y ? startPoint.y : startPoint.y - size.height;\n\n    return {\n        x: x,\n        y: y\n    }\n}\n\nexport const getSelectToolSize = (startPoint, mouse, svgOffset) => {\n    const width = Math.abs(mouse.x - svgOffset.x - startPoint.x);\n    const height = Math.abs(mouse.y - svgOffset.y - startPoint.y);\n\n    return {\n        width: width,\n        height: height\n    }\n}\n\n\nexport const checkRectRectCollision = (rect1, rect2) => {\n    return rect1.x + rect1.width >= rect2.x &&\n        rect1.x <= rect2.x + rect2.width &&\n        rect1.y + rect1.height >= rect2.y &&\n        rect1.y <= rect2.y + rect2.height;\n}","import React from 'react'\nimport SvgRenderContainer from '../SvgRender/SvgRenderContainer';\nimport ToolPanel from './../ToolPanel'\nimport NewDraggableObject from '../NewDraggableObject/NewDraggableObjectContainer';\nimport SelectToolContainer from './../SelectTool/SelectToolContainer';\n\nclass LayoutBuilder extends React.Component {\n    render() {\n        return (\n            <div className=\"layout-builder\">\n                <NewDraggableObject>\n                    <SelectToolContainer ref=\"SelectToolContainer\">\n                        <SvgRenderContainer ref=\"SvgRenderContainer\"/>\n                    </SelectToolContainer>\n                    <ToolPanel/>\n                </NewDraggableObject>\n            </div>\n        )\n    }\n}\n\nexport default LayoutBuilder;\n","import React from 'react'\nimport LayoutBuilder from '../layoutBuilder'\n\nconst App = () =>\n    <div className=\"container\">\n        <LayoutBuilder/>\n    </div>\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store, { history } from './store'\nimport App from './containers/app'\n\nimport 'sanitize.css/sanitize.css'\nimport './index.css'\n\nconst target = document.querySelector('#root')\n\nrender(\n  <Provider store={store}>\n        <App />\n  </Provider>,\n  target\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new-figure\":\"Figures_new-figure__3cfVH\",\"rectangle\":\"Figures_rectangle__2Q-nz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text-align-btn-group__btn_active\":\"TextPanel_text-align-btn-group__btn_active__Z4POU\",\"vertical-align-btn-group__btn_active\":\"TextPanel_vertical-align-btn-group__btn_active__8HAZv\"};"],"sourceRoot":""}