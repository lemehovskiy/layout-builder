{"version":3,"sources":["modules/svgRender.js","modules/resizeTool.js","constants/redux.js","modules/index.js","store.js","actions/index.js","containers/Vector.js","containers/SelectTool.js","containers/actions/resizeTool.js","containers/actions/rootateTool.js","containers/actions/vector.js","containers/EditModeHelper.js","containers/Text.js","containers/actions/text.js","containers/Rectangle.js","containers/SvgRender.js","containers/actions/selectTool.js","containers/ToolPanel/TextPanel/VerticalAlignPanel.js","containers/ToolPanel/TextPanel/TextAlignPanel.js","containers/actions/utils.js","containers/ToolPanel/TextPanel/index.js","containers/ToolPanel/index.js","containers/layoutBuilder/index.js","containers/home/index.js","containers/app/index.js","index.js"],"names":["updateObject","oldObject","newValues","Object","assign","updateItemInArray","array","itemId","updateItemCallback","map","item","id","initialState","resizeDirection","setResizeDirection","direction","dispatch","type","payload","combineReducers","svgRender","state","arguments","length","undefined","action","updatedItems","objectSpread","handlerObjectIndex","index","editMode","mode","mouseStartPosition","x","y","selectedObjectsId","concat","ids","objects","object","includes","editStartPositionOffset","width","height","updatedItem","forEach","editObjectInitState","rotate","textProps","verticalAlign","value","console","log","textAlign","resizeTool","history","createHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","createStore","connectRouter","rootReducer","mousePosition","strokeWidth","fill","radius","text","updateHandlerObjectIndex","updateEditMode","setMouseStartPosition","selectObjects","deselectAllObjects","deselectAllObjectsExept","moveObject","setObjectEditStartPosition","resizeObject","props","setObjectMode","saveEditObjectInitState","resetObjectMode","rotateObject","_ref","setTextAlign","setVerticalAlign","Vector","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","objectMoved","clientX","clientY","shiftKey","React","cloneElement","children","onMouseUp","bind","onMouseDown","Component","connect","bindActionCreators","SelectTool","react_default","a","createElement","stroke","opacity","selectToolPosition","selectToolSize","progress","changeValue","returnVal","getObjectResizeValuesSouth","mouse","objectInitState","Math","abs","getObjectResizeValuesNorth","getObjectResizeValuesEast","getObjectResizeValuesWest","getObjectRotateValue","atan2","PI","getTransformMatrix","centerX","centerY","getObjectAttributes","transform","EditModeHelper","target","getAttribute","self","helperConfig","dots","name","rotateIcon","strokeDasharray","pointerEvents","dot","key","cx","cy","r","style","cursor","onDotMouseDown","onRotateMouseDown","d","Text","_this","divElement","clientHeight","clientWidth","setState","prevProps","onResize","_this2","textState","overflow","getTextAttributes","ref","xmlns","display","split","i","Rectangle","containers_Text","containers_EditModeHelper","SvgRender","selectToolActive","selectToolStartPoint","svgOffset","getBoundingClientRect","refs","selectedObjects","updatedValues","updatedObject","getObjectResizeValues","resizeToolDirection","updateSelectToolData","handleSelectTool","currentTarget","setSelectStartPosition","resetSelectToolData","selectedObjectIds","rect1","rect2","push","startPoint","size","getSelectToolPosition","className","onMouseMove","vectorType","containers_Rectangle","containers_Vector","containers_SelectTool","filter","buttonsConfig","label","VerticalAlignPanel","button","activeValue","onClick","TextAlignPanel","byString","o","s","replace","n","k","getEqualPropertyValueFromSelectedObjects","values","every","val","arr","TextPanel","TextPanel_VerticalAlignPanel","TextPanel_TextAlignPanel","ToolPanel","containers_ToolPanel_TextPanel","LayoutBuilder","containers_ToolPanel","containers_SvgRender","changePage","layoutBuilder","App","home","document","querySelector","render","es","store","lib","app"],"mappings":"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","file":"static/js/main.03252879.chunk.js","sourcesContent":["import {\n    UPDATE_HANDLER_OBJECT_INDEX,\n    UPDATE_EDIT_MODE,\n    SET_MOUSE_START_POSITION,\n    SELECT_OBJECTS,\n    DESELECT_OBJECTS,\n    DESELECT_ALL_OBJECTS,\n    DESELECT_ALL_OBJECTS_EXEPT,\n    MOVE_OBJECT,\n    SET_OBJECT_EDIT_START_POSITION,\n    RESIZE_OBJECT,\n    SET_OBJECT_MODE,\n    SAVE_EDIT_OBJECT_INIT_STATE,\n    RESET_OBJECT_MODE,\n    ROTATE_OBJECT,\n    SET_TEXT_ALIGN,\n    SET_VERTICAL_ALIGN\n} from './../constants';\n\nfunction updateObject(oldObject, newValues) {\n    return Object.assign({}, oldObject, newValues)\n}\n\nfunction updateItemInArray(array, itemId, updateItemCallback) {\n    const updatedItems = array.map(item => {\n        if (item.id !== itemId) {\n            // Since we only want to update one item, preserve all others as they are now\n            return item\n        }\n\n        // Use the provided callback to create an updated item\n        const updatedItem = updateItemCallback(item)\n        return updatedItem\n    })\n\n    return updatedItems\n}\n\n\nconst initialState = {};\n\nexport default (state = initialState, action) => {\n    let updatedItems = [];\n\n    switch (action.type) {\n        case UPDATE_HANDLER_OBJECT_INDEX:\n            return {\n                ...state,\n                handlerObjectIndex: action.index\n            }\n        case UPDATE_EDIT_MODE:\n            return {\n                ...state,\n                editMode: action.mode\n            }\n        case SET_MOUSE_START_POSITION:\n            return {\n                ...state,\n                mouseStartPosition: {x: action.x, y: action.y}\n            }\n        case SELECT_OBJECTS:\n            return {...state, selectedObjectsId: state.selectedObjectsId.concat(action.payload.ids)}\n\n        case DESELECT_ALL_OBJECTS:\n            return {...state, selectedObjectsId: []}\n\n        case DESELECT_ALL_OBJECTS_EXEPT:\n                return {...state, selectedObjectsId: [action.payload]}\n        case MOVE_OBJECT:\n            updatedItems = state.objects.map(item => {\n                if (item.id === action.payload.id) {\n                    return {...item, x: action.payload.x, y: action.payload.y}\n                }\n                return item;\n            })\n            return {...state, objects: updatedItems}\n\n        case SET_OBJECT_EDIT_START_POSITION:\n            updatedItems = state.objects.map(object => {\n                if (state.selectedObjectsId.includes(object.id)) {\n                    return {\n                        ...object,\n                        editStartPositionOffset: {\n                            x: action.payload.x - object.x,\n                            y: action.payload.y - object.y\n                        }\n                    }\n                }\n                return object\n            })\n            return {...state, objects: updatedItems}\n\n        case RESIZE_OBJECT:\n            updatedItems = updateItemInArray(state.objects, action.payload.id, object => {\n                return updateObject(object, {\n                    x: action.payload.x,\n                    y: action.payload.y,\n                    width: action.payload.width,\n                    height: action.payload.height\n                })\n            })\n            return updateObject(state, {objects: updatedItems})\n\n        case SET_OBJECT_MODE:\n            updatedItems = state.objects.map(item => {\n                if (item.id === action.payload.id) {\n                    return {...item, mode: action.payload.mode}\n                }\n                return item;\n            })\n            return {...state, objects: updatedItems}\n\n        case SAVE_EDIT_OBJECT_INIT_STATE:\n            let updatedItem = null;\n            state.objects.forEach(item => {\n                if (item.id === action.payload.id) {\n                    updatedItem = item;\n                }\n            })\n            return {...state, editObjectInitState: updatedItem}\n\n        case RESET_OBJECT_MODE:\n            updatedItems = state.objects.map(item => {\n                return {...item, mode: null}\n            })\n            return {...state, objects: updatedItems}\n\n        case ROTATE_OBJECT:\n            updatedItems = updateItemInArray(state.objects, action.payload.id, object => {\n                return updateObject(object, {rotate: action.payload.rotate})\n            })\n            return updateObject(state, {objects: updatedItems})\n\n        case SET_VERTICAL_ALIGN:\n            updatedItems = state.objects.map(item => {\n                if (state.selectedObjectsId.includes(item.id)) {\n                    return {\n                        ...item,\n                        textProps: {\n                            ...item.textProps,\n                            verticalAlign: action.payload.value\n                        }\n                    }\n                }\n                return item\n            })\n            return {...state, objects: updatedItems}\n\n        case SET_TEXT_ALIGN:\n            console.log('222');\n            updatedItems = state.objects.map(item => {\n                if (state.selectedObjectsId.includes(item.id)) {\n                    return {\n                        ...item,\n                        textProps: {\n                            ...item.textProps,\n                            textAlign: action.payload.value\n                        }\n                    }\n                }\n                return item\n            })\n            return {...state, objects: updatedItems}\n\n        default:\n            return state\n    }\n}","import {\n    SET_RESIZE_DIRECTION\n} from './../constants';\n\n\nconst initialState = {\n    resizeDirection: null\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_RESIZE_DIRECTION:\n            return {\n                ...state,\n                resizeDirection: action.payload.direction\n            }\n\n        default:\n            return state\n    }\n}\n\n\nexport const setResizeDirection = (direction) => {\n    return dispatch => {\n        dispatch({\n            type: SET_RESIZE_DIRECTION,\n            payload: {\n                direction: direction\n            }\n        })\n    }\n}","export const UPDATE_HANDLER_OBJECT_INDEX = 'svgRender/HANDLER_OBJECT_INDEX';\nexport const UPDATE_EDIT_MODE = 'svgRender/UPDATE_EDIT_MODE';\nexport const SET_MOUSE_START_POSITION = 'svgRender/SET_MOUSE_START_POSITION';\nexport const SELECT_OBJECTS = 'svgRender/SELECT_OBJECTS';\nexport const DESELECT_OBJECTS = 'svgRender/DESELECT_OBJECTS';\nexport const DESELECT_ALL_OBJECTS = 'svgRender/DESELECT_ALL_OBJECTS';\nexport const DESELECT_ALL_OBJECTS_EXEPT = 'svgRender/DESELECT_ALL_OBJECTS_EXEPT';\nexport const MOVE_OBJECT = 'svgRender/MOVE_OBJECT';\nexport const SET_OBJECT_EDIT_START_POSITION = 'svgRender/SET_OBJECT_EDIT_START_POSITION';\nexport const RESIZE_OBJECT = 'svgRender/RESIZE_OBJECT';\nexport const SET_OBJECT_MODE = 'svgRender/SET_OBJECT_MODE';\nexport const SAVE_EDIT_OBJECT_INIT_STATE = 'svgRender/SAVE_EDIT_OBJECT_INIT_STATE';\nexport const RESET_OBJECT_MODE = 'svgRender/RESET_OBJECT_MODE';\nexport const ROTATE_OBJECT = 'svgRender/ROTATE_OBJECT';\nexport const SET_RESIZE_DIRECTION = 'resizeTool/SET_RESIZE_DIRECTION';\nexport const SET_VERTICAL_ALIGN = 'textTool/SET_VERTICAL_ALIGN';\nexport const SET_TEXT_ALIGN = 'textTool/SET_TEXT_ALIGN';","import { combineReducers } from 'redux'\nimport svgRender from './svgRender'\nimport resizeTool from './resizeTool'\n\nexport default combineReducers({\n  svgRender, resizeTool\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\nimport thunk from 'redux-thunk'\nimport createHistory from 'history/createBrowserHistory'\nimport rootReducer from './modules'\n\nexport const history = createHistory()\n\nconst initialState = {\n  svgRender: {\n      editMode: null,\n      mousePosition: {\n          x: null,\n          y: null\n      },\n      mouseStartPosition: {\n          x: null,\n          y: null\n      },\n\n      selectedObjectsId: [],\n\n      handlerObjectIndex: null,\n\n      objects: [\n          {\n              id: 1,\n              width: 163,\n              height: 84,\n              rotate: 0,\n              strokeWidth: 0,\n              fill: \"rgba(0, 123, 255, 1)\",\n              radius: \"0\",\n              type: \"rectangle\",\n              x: 17,\n              y: 15,\n              text: \"Lorem ipsum \\n dolor\",\n              textProps: {\n                  textAlign: 'center',\n                  verticalAlign: 'top'\n\n              }\n          },\n          {\n              id: 2,\n              width: 200,\n              height: 300,\n              rotate: 0,\n              strokeWidth: 0,\n              fill: \"rgba(0, 123, 255, 1)\",\n              radius: \"0\",\n              type: \"rectangle\",\n              x: 200,\n              y: 50,\n              text: \"Lorem ipsum \\n dolor\",\n              textProps: {\n                  textAlign: 'right',\n                  verticalAlign: 'bottom'\n\n              }\n          }\n      ],\n      editObjectInitState: null\n  }\n}\nconst enhancers = []\nconst middleware = [thunk, routerMiddleware(history)]\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__\n\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension())\n  }\n}\n\nconst composedEnhancers = compose(\n  applyMiddleware(...middleware),\n  ...enhancers\n)\n\nexport default createStore(\n  connectRouter(history)(rootReducer),\n  initialState,\n  composedEnhancers\n)\n","import {\n    UPDATE_HANDLER_OBJECT_INDEX,\n    UPDATE_EDIT_MODE,\n    SET_MOUSE_START_POSITION,\n    SELECT_OBJECTS,\n    DESELECT_OBJECTS,\n    DESELECT_ALL_OBJECTS,\n    DESELECT_ALL_OBJECTS_EXEPT,\n    MOVE_OBJECT,\n    SET_OBJECT_EDIT_START_POSITION,\n    RESIZE_OBJECT,\n    SET_OBJECT_MODE,\n    SAVE_EDIT_OBJECT_INIT_STATE,\n    RESET_OBJECT_MODE,\n    ROTATE_OBJECT,\n    SET_TEXT_ALIGN,\n    SET_VERTICAL_ALIGN\n} from './../constants';\n\n\nexport const updateHandlerObjectIndex = (index) => {\n    return dispatch => {\n        dispatch({\n            type: UPDATE_HANDLER_OBJECT_INDEX,\n            index: index\n        })\n\n    }\n}\n\nexport const updateEditMode = (mode) => {\n    return dispatch => {\n        dispatch({\n            type: UPDATE_EDIT_MODE,\n            mode: mode\n        })\n\n    }\n}\n\nexport const setMouseStartPosition = (x, y) => {\n    return dispatch => {\n        dispatch({\n            type: SET_MOUSE_START_POSITION,\n            x: x,\n            y: y\n        })\n\n    }\n}\n\nexport const selectObjects = (ids) => {\n    return dispatch => {\n        dispatch({\n            type: SELECT_OBJECTS,\n            payload: {ids}\n        })\n    }\n}\n\nexport const deselectObjects = (ids) => {\n    return dispatch => {\n        dispatch({\n            type: DESELECT_OBJECTS,\n            payload: {ids}\n\n        })\n    }\n}\n\n\nexport const deselectAllObjects = () => {\n    return dispatch => {\n        dispatch({\n            type: DESELECT_ALL_OBJECTS,\n        })\n    }\n}\n\nexport const deselectAllObjectsExept = (id) => {\n    return dispatch => {\n        dispatch({\n            type: DESELECT_ALL_OBJECTS_EXEPT,\n            payload: id\n        })\n    }\n}\n\n\nexport const moveObject = (id, x, y) => {\n    return dispatch => {\n        dispatch({\n            type: MOVE_OBJECT,\n            payload: {\n                id: id,\n                x: x,\n                y: y\n            }\n        })\n    }\n}\n\nexport const setObjectEditStartPosition = (x, y) => {\n    return dispatch => {\n        dispatch({\n            type: SET_OBJECT_EDIT_START_POSITION,\n            payload: {\n                x: x,\n                y: y\n            }\n        })\n    }\n}\n\n\nexport const resizeObject = (props) => {\n    return dispatch => {\n        dispatch({\n            type: RESIZE_OBJECT,\n            payload: props\n        })\n    }\n}\n\nexport const setObjectMode = (id, mode) => {\n    return dispatch => {\n        dispatch({\n            type: SET_OBJECT_MODE,\n            payload: {\n                id: id,\n                mode: mode\n            }\n        })\n    }\n}\n\nexport const saveEditObjectInitState = (id) => {\n    return dispatch => {\n        dispatch({\n            type: SAVE_EDIT_OBJECT_INIT_STATE,\n            payload: {\n                id: id\n            }\n        })\n    }\n}\n\nexport const resetObjectMode = () => {\n    return dispatch => {\n        dispatch({\n            type: RESET_OBJECT_MODE\n        })\n    }\n}\n\nexport const rotateObject = ({id, rotate}) => {\n    return dispatch => {\n        dispatch({\n            type: ROTATE_OBJECT,\n            payload: {id, rotate}\n        })\n    }\n}\n\nexport const setTextAlign = (value) => {\n    console.log(111);\n    return dispatch => {\n        dispatch({\n            type: SET_TEXT_ALIGN,\n            payload: {value}\n        })\n    }\n}\n\nexport const setVerticalAlign = (value) => {\n    return dispatch => {\n        dispatch({\n            type: SET_VERTICAL_ALIGN,\n            payload: {value}\n        })\n    }\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\n\nimport {\n    updateHandlerObjectIndex,\n    updateEditMode,\n    setMouseStartPosition,\n    selectObjects,\n    deselectAllObjects,\n    setObjectEditStartPosition,\n    deselectAllObjectsExept\n} from '../../src/actions'\n\n\n\nclass Vector extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    onMouseUp(e) {\n        let objectMoved = this.props.mouseStartPosition.x !== e.clientX || this.props.mouseStartPosition.y !== e.clientY;\n\n        if (!e.shiftKey && !objectMoved) {\n            this.props.deselectAllObjectsExept(this.props.object.id);\n        }\n    }\n\n\n    onMouseDown(e) {\n        if (!e.shiftKey && !this.props.selectedObjectsId.includes(this.props.object.id)) {\n            this.props.deselectAllObjects();\n        }\n\n        this.props.selectObjects([this.props.object.id])\n        this.props.setMouseStartPosition(e.clientX, e.clientY)\n\n        this.props.setObjectEditStartPosition(e.clientX, e.clientY);\n        this.props.updateEditMode('drag')\n    }\n\n    render() {\n        return React.cloneElement(this.props.children, {onMouseUp: this.onMouseUp.bind(this), onMouseDown: this.onMouseDown.bind(this), object: this.props.object, selectedObjectsId: this.props.selectedObjectsId})\n\n    }\n\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    mouseStartPosition: svgRender.mouseStartPosition\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            updateHandlerObjectIndex,\n            updateEditMode,\n            setMouseStartPosition,\n            selectObjects,\n            deselectAllObjects,\n            setObjectEditStartPosition,\n            deselectAllObjectsExept\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Vector)\n","import React, {Component} from 'react';\n\nclass SelectTool extends Component {\n    render() {\n        return (\n            <g>\n               <rect\n                    strokeWidth=\"1\"\n                    stroke=\"#6298F9\"\n                    fill=\"rgba(98, 152, 249, 0.3)\"\n                    opacity=\"0.3\"\n                    x={this.props.selectToolPosition.x}\n                    y={this.props.selectToolPosition.y}\n                    width={this.props.selectToolSize.width}\n                    height={this.props.selectToolSize.height}\n                /> : ''}\n            </g>\n        );\n    }\n}\n\nexport default SelectTool;\n\n","//TODO fix bug with resize when object rotated\n\nlet progress = null,\n    changeValue = null,\n    returnVal = {};\n\nfunction getObjectResizeValuesSouth(mouse, objectInitState, mouseStartPosition) {\n    progress = mouse.y - mouseStartPosition.y;\n    changeValue = objectInitState.height + progress;\n    returnVal.y = changeValue > 0 ? objectInitState.y : objectInitState.y - Math.abs(changeValue);\n    returnVal.height = Math.abs(changeValue);\n\n    return returnVal;\n}\n\nfunction getObjectResizeValuesNorth(mouse, objectInitState, mouseStartPosition) {\n    progress = mouse.y - mouseStartPosition.y;\n    changeValue = objectInitState.height - progress;\n    returnVal.y = changeValue > 0 ? objectInitState.y - (changeValue - objectInitState.height) : objectInitState.y + objectInitState.height;\n    returnVal.height = Math.abs(changeValue);\n\n    return returnVal;\n}\n\nfunction getObjectResizeValuesEast(mouse, objectInitState, mouseStartPosition) {\n    progress = mouse.x - mouseStartPosition.x;\n    changeValue = objectInitState.width + progress;\n    returnVal.x = changeValue < 0 ? objectInitState.x + changeValue : objectInitState.x;\n    returnVal.width = Math.abs(changeValue);\n\n    return returnVal;\n}\n\nfunction getObjectResizeValuesWest(mouse, objectInitState, mouseStartPosition) {\n    progress = mouse.x - mouseStartPosition.x;\n    changeValue = objectInitState.width - progress;\n    returnVal.x = changeValue > 0 ? objectInitState.x + progress : objectInitState.x + objectInitState.width;\n    returnVal.width = Math.abs(changeValue);\n\n    return returnVal;\n}\n\nexport const getObjectResizeValues = (mouse, direction, objectInitState, mouseStartPosition, object) => {\n    let updatedObject = object;\n\n    switch (direction) {\n        case 's':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesSouth(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'n':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesNorth(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'e':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesEast(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'w':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesWest(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'ne':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesNorth(mouse, objectInitState, mouseStartPosition));\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesEast(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'se':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesSouth(mouse, objectInitState, mouseStartPosition));\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesEast(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'sw':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesSouth(mouse, objectInitState, mouseStartPosition));\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesWest(mouse, objectInitState, mouseStartPosition));\n            break;\n        case 'nw':\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesNorth(mouse, objectInitState, mouseStartPosition));\n            updatedObject = Object.assign(updatedObject, getObjectResizeValuesWest(mouse, objectInitState, mouseStartPosition));\n            break;\n    }\n\n    return updatedObject;\n}","//TODO make rotate more user friendly\nexport const getObjectRotateValue = ({mouse, mouseStartPosition, object}) => {\n    let angle = Math.atan2(\n        mouseStartPosition.x + (object.width || 0) / 2 - mouse.x,\n        mouseStartPosition.y + (object.height || 0) / 2 - mouse.y\n    );\n\n    let asDegree = angle * 180 / Math.PI;\n\n    return (asDegree - 45) * -1;\n}","export const getTransformMatrix = ({rotate, x, y, width, height}) => {\n    if (rotate) {\n        let centerX = width / 2 + x;\n        let centerY = height / 2 + y;\n        return `rotate(${rotate} ${centerX} ${centerY})`;\n    }\n}\n\nexport const getObjectAttributes = (object) => {\n    return {\n        transform: getTransformMatrix(object)\n    };\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\n\nimport {\n    resizeObject,\n    setMouseStartPosition,\n    updateEditMode,\n    setObjectMode,\n    saveEditObjectInitState\n} from '../../src/actions'\n\nimport {\n    setResizeDirection\n} from '../../src/modules/resizeTool'\n\nimport {getObjectAttributes} from './actions/vector.js';\n\nclass EditModeHelper extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    onRotateMouseDown(e) {\n        this.props.setObjectMode(this.props.object.id, 'rotate');\n        this.props.updateEditMode('rotate');\n        this.props.setMouseStartPosition(e.clientX, e.clientY);\n    }\n\n    onDotMouseDown(e){\n        this.props.setObjectMode(this.props.object.id, 'resize');\n        this.props.updateEditMode('resize');\n        this.props.saveEditObjectInitState(this.props.object.id);\n        this.props.setMouseStartPosition(e.clientX, e.clientY);\n        this.props.setResizeDirection(e.target.getAttribute('name'))\n    }\n\n    render() {\n        let self = this;\n\n        let object = this.props.object;\n\n        const helperConfig =\n            {\n                dots: [\n                    {\n                        name: 'nw',\n                        x: object.x,\n                        y: object.y\n                    },\n                    {\n                        name: 'n',\n                        x: object.x + object.width / 2,\n                        y: object.y\n                    },\n                    {\n                        name: 'ne',\n                        x: object.x + object.width,\n                        y: object.y\n                    },\n                    {\n                        name: 'w',\n                        x: object.x,\n                        y: object.y + object.height / 2\n                    },\n                    {\n                        name: 'e',\n                        x: object.x + object.width,\n                        y: object.y + object.height / 2\n                    },\n                    {\n                        name: 'sw',\n                        x: object.x,\n                        y: object.y + object.height\n                    },\n                    {\n                        name: 's',\n                        x: object.x + object.width / 2,\n                        y: object.y + object.height\n                    },\n                    {\n                        name: 'se',\n                        x: object.x + object.width,\n                        y: object.y + object.height\n                    }\n                ]\n            }\n\n            const rotateIcon = {\n                x: object.x + object.width / 2 - 6,\n                y: object.y - 20\n            }\n\n\n        return (\n            <g {...getObjectAttributes(object)}>\n                <rect\n                    width={object.width}\n                    height={object.height}\n                    x={object.x}\n                    y={object.y}\n                    fill=\"none\" stroke=\"#00a8ff\" strokeDasharray=\"3 3\" pointerEvents=\"none\"/>\n\n                {helperConfig.dots.map(function (dot) {\n                    return <circle key={dot.name} name={dot.name} cx={dot.x} cy={dot.y} fill=\"#34B7EF\" r=\"5\" style={{cursor: dot.name + '-resize'}} onMouseDown={self.onDotMouseDown.bind(self)}/>\n                })}\n\n                <path cursor=\"pointer\" onMouseDown={self.onRotateMouseDown.bind(self)} transform={'translate(' + rotateIcon.x + ' ' + rotateIcon.y +')'} stroke=\"rgb(0, 0, 0, 0)\" strokeWidth=\"5\" d=\"M5.1,0.2L4.4,0.8c-0.1,0.1-0.1,0.2,0,0.3l1.1,1.1C4.2,2.1,2.8,2.5,1.7,3.5c-2,1.8-2.1,4.9-0.3,6.8\n                c1.8,2,4.8,2.1,6.8,0.3c0.9-0.8,1.4-1.9,1.5-3.1c0-0.1-0.1-0.3-0.2-0.3l-0.9,0c-0.1,0-0.2,0.1-0.2,0.2C8.3,8.2,7.9,9,7.2,9.6\n                c-1.4,1.3-3.6,1.2-4.8-0.2C1.1,8,1.2,5.8,2.6,4.5c0.9-0.8,2-1.1,3.1-0.8L4.2,5c-0.1,0.1-0.1,0.2,0,0.3L4.8,6c0.1,0.1,0.2,0.1,0.3,0\n                L8,3.4c0.1-0.1,0.1-0.2,0-0.3L5.4,0.2C5.3,0.1,5.2,0.1,5.1,0.2z\"/>\n\n            </g>\n        )\n    }\n}\n//\n// const mapStateToProps = ({ svgRender }) => ({\n//\n// })\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            resizeObject,\n            setMouseStartPosition,\n            updateEditMode,\n            setObjectMode,\n            saveEditObjectInitState,\n            setResizeDirection\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(EditModeHelper)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport EditModeHelper from './EditModeHelper.js';\n\nimport {getObjectAttributes} from './actions/vector.js';\nimport {getTextAttributes, getTextWrapAttributes} from './actions/text.js';\n\nfunction breakLine(text) {\n    console.log(text);\n    var br = React.createElement('br');\n    var regex = /(<br \\/>)/g;\n    return text.split(regex).map(function(line, index) {\n        return line.match(regex) ? <br key={\"key_\" + index} /> : line;\n    });\n}\n\nclass Text extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            height: 0,\n            width: 0\n        }\n    }\n\n    onResize(){\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n\n        this.setState({ height, width });\n    }\n\n    componentDidUpdate(prevProps){\n        if (prevProps.object.width !== this.props.object.width || prevProps.object.height !== this.props.object.height) {\n            this.onResize();\n        }\n    }\n\n    componentDidMount(){\n        this.onResize();\n    }\n\n\n    render() {\n        return (\n            <g>\n                <foreignObject\n                    {...getObjectAttributes(this.props.object)}\n                    {...getTextAttributes(this.props.object, this.state)}\n                >\n                    <div {...getTextWrapAttributes(this.props.object)} ref={ (divElement) => this.divElement = divElement}>\n                        <div xmlns=\"http://www.w3.org/1999/xhtml\" style={{ display: 'inline-block' }}>\n                            {this.props.object.text.split(\"\\n\").map((i,key) => {\n                                return <div key={key}>{i}</div>;\n                            })}\n                        </div>\n                    </div>\n                </foreignObject>\n            </g>\n        )\n    }\n}\n\n\n// const mapStateToProps = ({svgRender}) => ({\n//     mouseStartPosition: svgRender.mouseStartPosition\n// })\n//\n// const mapDispatchToProps = dispatch =>\n//     bindActionCreators({\n//             updateHandlerObjectIndex,\n//             updateEditMode,\n//             setMouseStartPosition,\n//             setObjectsSelectState,\n//             deselectAllObjects,\n//             setEditStartPositionOffset,\n//             deselectAllObjectsExept\n//         },\n//         dispatch\n//     )\n\nexport default connect(\n    null,\n    null\n)(Text)\n","export const getTextAttributes = (object, textState) => {\n    let y = 0;\n\n    switch(object.textProps.verticalAlign) {\n        case 'top': y = object.y; break;\n        case 'middle': y = object.y + object.height / 2 - textState.height / 2; break;\n        case 'bottom': y = object.y + object.height - textState.height; break;\n        default: y = object.y + object.height / 2 - textState.height / 2;\n    }\n\n\n    return {\n        width: object.width,\n        height: textState.height,\n        overflow: 'visible',\n        x: object.x,\n        y: y,\n    }\n}\n\n\nexport const getTextWrapAttributes = (object) => {\n    let style = {\n        textAlign: object.textProps.textAlign\n    };\n\n    return {\n        style: style\n    }\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport EditModeHelper from './EditModeHelper.js';\nimport Text from './Text';\n\nimport {getObjectAttributes} from './actions/vector.js';\n\nclass Rectangle extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n\n    render() {\n        return (\n            <g>\n\n                {this.props.object.text ? <Text object={this.props.object}/> : ''}\n\n                    <rect {...getObjectAttributes(this.props.object)}\n                          width={this.props.object.width}\n                          height={this.props.object.height}\n                          x={this.props.object.x}\n                          y={this.props.object.y}\n                          pointerEvents=\"visible\"\n                          cursor=\"move\"\n                          fill=\"none\"\n                          strokeWidth=\"1\"\n                          stroke=\"black\"\n                          onMouseDown={this.props.onMouseDown}\n                          onMouseUp={this.props.onMouseUp}\n                    />\n\n\n                {this.props.selectedObjectsId.includes(this.props.object.id) ? <EditModeHelper\n                    object={this.props.object}/> : ''}\n\n            </g>\n        )\n    }\n}\n\n//\n// const mapStateToProps = ({svgRender}) => ({\n//     mouseStartPosition: svgRender.mouseStartPosition\n// })\n//\n// const mapDispatchToProps = dispatch =>\n//     bindActionCreators({\n//             updateHandlerObjectIndex,\n//             updateEditMode,\n//             setMouseStartPosition,\n//             setObjectsSelectState,\n//             deselectAllObjects,\n//             setEditStartPositionOffset,\n//             deselectAllObjectsExept\n//         },\n//         dispatch\n//     )\n\nexport default connect(\n    null,\n    null\n)(Rectangle)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\nimport Vector from './Vector';\nimport SelectTool from './SelectTool';\nimport {getSelectToolSize, getSelectToolPosition, checkRectRectCollision} from './actions/selectTool';\nimport {getObjectResizeValues} from './actions/resizeTool';\nimport {getObjectRotateValue} from './actions/rootateTool.js';\nimport Rectangle from './Rectangle';\nimport Text from './Text';\n\n\nimport {\n    updateEditMode,\n    deselectAllObjects,\n    moveObject,\n    selectObjects,\n    resizeObject,\n    resetObjectMode,\n    rotateObject\n} from '../../src/actions'\n\nclass SvgRender extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            selectToolActive: false,\n            selectToolStartPoint: {\n                x: null,\n                y: null\n            },\n            mousePosition: {\n                x: null,\n                y: null\n            },\n            svgOffset: {\n                x: null,\n                y: null\n            },\n            selectToolSize: {\n                x: null,\n                y: null\n            },\n            selectToolPosition: {\n                x: null,\n                y: null\n            }\n        }\n    }\n\n    componentDidMount() {\n        const getBoundingClientRect = this.refs.svgRender.getBoundingClientRect();\n\n        this.setState({\n            svgOffset: {\n                x: getBoundingClientRect.x,\n                y: getBoundingClientRect.y\n            }\n        })\n    }\n\n    onMouseMove(e) {\n\n        let self = this;\n\n        if (this.props.editMode === 'drag') {\n            this.props.selectedObjects.forEach(function (object) {\n                self.props.moveObject(object.id, e.clientX - object.editStartPositionOffset.x, e.clientY - object.editStartPositionOffset.y);\n            })\n        }\n\n        else if (this.props.editMode === 'resize') {\n            this.props.selectedObjects.forEach(function (object) {\n                if (object.mode === 'resize') {\n                    let updatedValues = getObjectResizeValues(\n                        {x: e.clientX, y: e.clientY},\n                        self.props.resizeToolDirection,\n                        self.props.editObjectInitState,\n                        self.props.mouseStartPosition,\n                        {x: object.x, y: object.y, width: object.width, height: object.height}\n                    );\n\n                    self.props.resizeObject({\n                            id: object.id,\n                            ...updatedValues\n                        }\n                    );\n                }\n            })\n        }\n\n        else if (this.props.editMode === 'rotate') {\n            this.props.selectedObjects.forEach(function (object) {\n                if (object.mode === 'rotate') {\n\n                    let mouse = {x: e.clientX, y: e.clientY},\n                        mouseStartPosition = self.props.mouseStartPosition;\n\n                    self.props.rotateObject({\n                            id: object.id,\n                            rotate: getObjectRotateValue({mouse, mouseStartPosition, object})\n                        }\n                    );\n                }\n            })\n        }\n\n\n        if (this.props.editMode === 'selectTool') {\n            this.updateSelectToolData({x: e.clientX, y: e.clientY});\n        }\n    }\n\n\n    onMouseUp(e) {\n        if (this.props.editMode === 'selectTool') {\n            this.handleSelectTool();\n        }\n        else if (this.props.editMode === 'resize') {\n            this.props.resetObjectMode();\n        }\n        else if (this.props.editMode === 'rotate') {\n            this.props.resetObjectMode();\n        }\n\n\n        this.props.updateEditMode(null);\n    }\n\n    onMouseDown(e) {\n        if (e.target === e.currentTarget) {\n            this.setSelectStartPosition({x: e.clientX, y: e.clientY});\n            this.updateSelectToolData({x: e.clientX, y: e.clientY});\n            this.props.updateEditMode('selectTool');\n        }\n    }\n\n    setSelectStartPosition(mousePosition) {\n        this.setState({\n            selectToolStartPoint: {\n                x: mousePosition.x - this.state.svgOffset.x,\n                y: mousePosition.y - this.state.svgOffset.y\n            }\n        })\n    }\n\n    handleSelectTool() {\n        let self = this;\n\n        this.resetSelectToolData();\n\n        let selectedObjectIds = [];\n\n        this.props.objects.forEach(function (object) {\n            if (checkRectRectCollision({\n                        x: object.x,\n                        y: object.y,\n                        width: object.width,\n                        height: object.height\n                    },\n                    {\n                        x: self.state.selectToolPosition.x,\n                        y: self.state.selectToolPosition.y,\n                        width: self.state.selectToolSize.width,\n                        height: self.state.selectToolSize.height\n                    })) {\n                selectedObjectIds.push(object.id);\n            }\n        })\n\n        this.props.deselectAllObjects();\n\n        if (selectedObjectIds.length) {\n            this.props.selectObjects(selectedObjectIds)\n        }\n    }\n\n    resetSelectToolData() {\n        this.setState({\n            selectToolStartPoint: {x: null, y: null},\n            selectToolSize: {x: null, y: null}\n        });\n    }\n\n    updateSelectToolData(mousePosition) {\n        if (this.state.selectToolStartPoint.x === null) return;\n\n        const selectToolSize = getSelectToolSize(\n            this.state.selectToolStartPoint,\n            mousePosition,\n            this.state.svgOffset\n        );\n\n        this.setState({\n            selectToolSize: selectToolSize\n        })\n        const selectToolPosition = getSelectToolPosition(\n            this.state.selectToolStartPoint,\n            mousePosition,\n            this.state.svgOffset,\n            selectToolSize\n        );\n        this.setState({\n            selectToolPosition: selectToolPosition\n        })\n    }\n\n    render() {\n        let self = this;\n\n        return (\n            <div className=\"container\">\n                <svg className=\"svgRender\" ref=\"svgRender\" width='800' height='500'\n                     onMouseMove={this.onMouseMove.bind(this)} onMouseUp={this.onMouseUp.bind(this)}\n                     onMouseDown={this.onMouseDown.bind(this)}>\n                    {this.props.objects.map(function (object) {\n                        let vectorType = null;\n                        switch (object.type){\n                            case 'rectangle': {\n                                vectorType = <Rectangle/>;\n                                break;\n                            }\n                            case 'text': {\n                                vectorType = <Text/>;\n                                break;\n                            }\n                        }\n                        return (\n                            <Vector key={object.id} object={object} selectedObjectsId={self.props.selectedObjectsId}>\n                                {vectorType}\n                            </Vector>\n                        )\n                    })}\n\n                    {this.props.editMode === 'selectTool' ? <SelectTool\n                        selectToolPosition={this.state.selectToolPosition}\n                        selectToolSize={this.state.selectToolSize}\n                    /> : ''}\n                </svg>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender, resizeTool}) => ({\n    selectedObjects: svgRender.objects.filter(object => svgRender.selectedObjectsId.includes(object.id)),\n    selectedObjectsId: svgRender.selectedObjectsId,\n    objects: svgRender.objects,\n    editMode: svgRender.editMode,\n    mouseStartPosition: svgRender.mouseStartPosition,\n    editObjectInitState: svgRender.editObjectInitState,\n    resizeToolDirection: resizeTool.resizeDirection\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            updateEditMode,\n            deselectAllObjects,\n            moveObject,\n            selectObjects,\n            resizeObject,\n            resetObjectMode,\n            rotateObject\n        },\n        dispatch\n    )\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SvgRender)\n","//TODO fix select for rotated objects\n\nexport const getSelectToolPosition = (startPoint, mouse, svgOffset, size) => {\n    const x = mouse.x - svgOffset.x > startPoint.x ? startPoint.x : startPoint.x - size.width;\n    const y = mouse.y - svgOffset.y > startPoint.y ? startPoint.y : startPoint.y - size.height;\n\n    return {\n        x: x,\n        y: y\n    }\n}\n\nexport const getSelectToolSize = (startPoint, mouse, svgOffset) => {\n    const width = Math.abs(mouse.x - svgOffset.x - startPoint.x);\n    const height = Math.abs(mouse.y - svgOffset.y - startPoint.y);\n\n    return {\n        width: width,\n        height: height\n    }\n}\n\n\nexport const checkRectRectCollision = (rect1, rect2) => {\n    return rect1.x + rect1.width >= rect2.x &&\n        rect1.x <= rect2.x + rect2.width &&\n        rect1.y + rect1.height >= rect2.y &&\n        rect1.y <= rect2.y + rect2.height;\n}","import React from 'react'\nimport styles from './index.css';\n\nconst buttonsConfig = [\n    {\n        value: 'top',\n        label: 'Top',\n    },\n    {\n        value: 'middle',\n        label: 'Middle',\n    },\n    {\n        value: 'bottom',\n        label: 'Bottom',\n    }\n]\n\nclass VerticalAlignPanel extends React.Component {\n    onClick(e) {\n        this.props.setVerticalAlign(e.target.value);\n    }\n\n    render() {\n        let self = this;\n\n        return (\n            <div>\n                Text Align\n\n                <div className=\"vertical-align-btn-group\">\n\n                    {\n                        buttonsConfig.map((button) => {\n                            return (\n                                <button\n                                    className={self.props.activeValue === button.value ? 'vertical-align-btn-group__btn vertical-align-btn-group__btn_active' : 'vertical-align-btn-group__btn'}\n                                    key={button.value} value={button.value}\n                                    onClick={self.onClick.bind(this)}>{button.label}</button>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default VerticalAlignPanel;\n","import React from 'react'\nimport styles from './index.css';\n\nconst buttonsConfig = [\n    {\n        value: 'left',\n        label: 'Left',\n    },\n    {\n        value: 'center',\n        label: 'Center',\n    },\n    {\n        value: 'right',\n        label: 'Right',\n    }\n]\n\nclass TextAlignPanel extends React.Component {\n    onClick(e) {\n        this.props.setTextAlign(e.target.value);\n    }\n\n    render() {\n        let self = this;\n\n        return (\n            <div>\n                Text Align\n\n                <div className=\"text-align-btn-group\">\n\n                    {\n                        buttonsConfig.map((button) => {\n                            return (\n                                <button\n                                    className={self.props.activeValue === button.value ? 'text-align-btn-group__btn text-align-btn-group__btn_active' : 'text-align-btn-group__btn'}\n                                    key={button.value} value={button.value}\n                                    onClick={self.onClick.bind(this)}>{button.label}</button>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TextAlignPanel;\n","Object.byString = function(o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    s = s.replace(/^\\./, '');           // strip a leading dot\n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n}\n\nexport const getEqualPropertyValueFromSelectedObjects = (objects, key) => {\n    let values = [];\n\n    if (objects.length > 0){\n        objects.forEach((object => {\n            values.push(Object.byString(object, key));\n        }))\n    }\n\n    values.every( (val, i, arr) => val === arr[0] )   // true\n\n    return values.every( (val, i, arr) => val === arr[0]) ? values[0] : false;\n}","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport VerticalAlignPanel from './VerticalAlignPanel';\nimport TextAlignPanel from './TextAlignPanel';\n\nimport {\n    setTextAlign,\n    setVerticalAlign\n} from './../../../../src/actions'\n\nimport {\n    getEqualPropertyValueFromSelectedObjects,\n} from './../../../containers/actions/utils';\n\n\nclass TextPanel extends React.Component {\n    render() {\n        return (\n            <div>\n                <VerticalAlignPanel setVerticalAlign={this.props.setVerticalAlign.bind(this)} activeValue={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'textProps.verticalAlign')}/>\n                <TextAlignPanel setTextAlign={this.props.setTextAlign.bind(this)} activeValue={getEqualPropertyValueFromSelectedObjects(this.props.selectedObjects, 'textProps.textAlign')}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({svgRender}) => ({\n    selectedObjects: svgRender.objects.filter(object => svgRender.selectedObjectsId.includes(object.id))\n})\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({\n            setTextAlign,\n            setVerticalAlign\n        },\n        dispatch\n    )\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TextPanel)\n","import React from 'react'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport TextPanel from './TextPanel';\n\nclass ToolPanel extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div>\n                Panel\n                <TextPanel/>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    null,\n    null\n)(ToolPanel)\n","import React from 'react'\nimport {push} from 'connected-react-router'\nimport {bindActionCreators} from 'redux'\nimport {connect} from 'react-redux'\nimport SvgRender from '../SvgRender';\nimport ToolPanel from './../ToolPanel'\n\nclass LayoutBuilder extends React.Component {\n    render() {\n\n        return (\n            <div>\n                <ToolPanel/>\n                <SvgRender/>\n            </div>\n        )\n    }\n}\n\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators(\n        {\n            changePage: () => push('/about-us')\n        },\n        dispatch\n    )\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(LayoutBuilder)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\n\nimport LayoutBuilder from '../layoutBuilder'\n\nconst Home = props => (\n  <div>\n      <LayoutBuilder/>\n  </div>\n)\n\nexport default connect(\n  null,\n    null\n)(Home)\n","import React from 'react'\nimport Home from '../home'\n\nconst App = () => (\n  <div>\n    <main>\n      <Home/>\n    </main>\n  </div>\n)\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport store, { history } from './store'\nimport App from './containers/app'\n\nimport 'sanitize.css/sanitize.css'\nimport './index.css'\n\nconst target = document.querySelector('#root')\n\nrender(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <div>\n        <App />\n      </div>\n    </ConnectedRouter>\n  </Provider>,\n  target\n)\n"],"sourceRoot":""}