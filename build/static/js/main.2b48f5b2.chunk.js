(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,o){e.exports=o(64)},62:function(e,t,o){},64:function(e,t,o){"use strict";o.r(t);var n=o(1),i=o.n(n),s=o(28),c=o(8),a=o(15),r=o(5),l=o(32),u=o(33),d=o.n(u),h=o(2),p={editMode:null,mousePosition:{x:null,y:null},mouseStartPosition:{x:null,y:null},handlerObjectIndex:null,objects:[{id:1,width:163,height:84,rotate:0,strokeWidth:0,fill:"rgba(0, 123, 255, 1)",radius:"0",type:"rectangle",x:17,y:15,selected:!1},{id:2,width:100,height:84,rotate:0,strokeWidth:0,fill:"rgba(0, 123, 255, 1)",radius:"0",type:"rectangle",x:200,y:50,selected:!1}],editObjectInitState:null},b=function(e){return function(t){t({type:"svgRender/HANDLER_OBJECT_INDEX",index:e})}},O=function(e){return function(t){t({type:"svgRender/UPDATE_EDIT_MODE",mode:e})}},y=function(e,t){return function(o){o({type:"svgRender/SET_MOUSE_START_POSITION",x:e,y:t})}},j=function(e){return function(t){t({type:"svgRender/UPDATE_OBJECTS_SELECT_STATE",payload:{ids:e,switchTo:!0}})}},E=function(){return function(e){e({type:"svgRender/DESELECT_ALL_OBJECTS"})}},f=function(e){return function(t){t({type:"svgRender/DESELECT_ALL_OBJECTS_EXEPT",payload:e})}},T=function(e,t,o){return function(n){n({type:"svgRender/MOVE_OBJECT",payload:{id:e,x:t,y:o}})}},g=function(e,t){return function(o){o({type:"svgRender/SET_OBJECT_EDIT_START_POSITION",payload:{x:e,y:t}})}},S=function(e){return function(t){t({type:"svgRender/RESIZE_OBJECT",payload:e})}},v=function(e,t){return function(o){o({type:"svgRender/SET_OBJECT_MODE",payload:{id:e,mode:t}})}},x=function(e){return function(t){t({type:"svgRender/SAVE_EDIT_OBJECT_INIT_STATE",payload:{id:e}})}},m=function(){return function(e){e({type:"svgRender/RESET_OBJECT_MODE"})}},M=function(e){var t=e.id,o=e.rotate;return function(e){e({type:"svgRender/ROTATE_OBJECT",payload:{id:t,rotate:o}})}},w={resizeDirection:null},_=function(e){return function(t){t({type:"resizeTool/SET_RESIZE_DIRECTION",payload:{direction:e}})}},D=Object(r.c)({svgRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,o=[];switch(t.type){case"svgRender/HANDLER_OBJECT_INDEX":return Object(h.a)({},e,{handlerObjectIndex:t.index});case"svgRender/UPDATE_EDIT_MODE":return Object(h.a)({},e,{editMode:t.mode});case"svgRender/SET_MOUSE_START_POSITION":return Object(h.a)({},e,{mouseStartPosition:{x:t.x,y:t.y}});case"svgRender/UPDATE_OBJECTS_SELECT_STATE":return o=e.objects.map(function(e){return t.payload.ids.includes(e.id)?Object(h.a)({},e,{selected:t.payload.switchTo||!0}):e}),Object(h.a)({},e,{objects:o});case"svgRender/DESELECT_ALL_OBJECTS":return o=e.objects.map(function(e){return Object(h.a)({},e,{selected:!1})}),Object(h.a)({},e,{objects:o});case"svgRender/DESELECT_ALL_OBJECTS_EXEPT":return o=e.objects.map(function(e){return e.id===t.payload?e:Object(h.a)({},e,{selected:!1})}),Object(h.a)({},e,{objects:o});case"svgRender/MOVE_OBJECT":return o=e.objects.map(function(e){return e.id===t.payload.id?Object(h.a)({},e,{x:t.payload.x,y:t.payload.y}):e}),Object(h.a)({},e,{objects:o});case"svgRender/SET_OBJECT_EDIT_START_POSITION":return o=e.objects.map(function(e){return e.selected?Object(h.a)({},e,{editStartPositionOffset:{x:t.payload.x-e.x,y:t.payload.y-e.y}}):e}),Object(h.a)({},e,{objects:o});case"svgRender/RESIZE_OBJECT":return o=e.objects.map(function(e){return e.id===t.payload.id?Object(h.a)({},e,{x:t.payload.x,y:t.payload.y,width:t.payload.width,height:t.payload.height}):e}),Object(h.a)({},e,{objects:o});case"svgRender/SET_OBJECT_MODE":return o=e.objects.map(function(e){return e.id===t.payload.id?Object(h.a)({},e,{mode:t.payload.mode}):e}),Object(h.a)({},e,{objects:o});case"svgRender/SAVE_EDIT_OBJECT_INIT_STATE":var n=null;return e.objects.forEach(function(e){e.id===t.payload.id&&(n=e)}),Object(h.a)({},e,{editObjectInitState:n});case"svgRender/RESET_OBJECT_MODE":return o=e.objects.map(function(e){return Object(h.a)({},e,{mode:null})}),Object(h.a)({},e,{objects:o});case"svgRender/ROTATE_OBJECT":return o=e.objects.map(function(e){return e.id===t.payload.id?Object(h.a)({},e,{rotate:t.payload.rotate}):e}),Object(h.a)({},e,{objects:o});default:return e}},resizeTool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"resizeTool/SET_RESIZE_DIRECTION":return Object(h.a)({},e,{resizeDirection:t.payload.direction});default:return e}}}),R=d()(),P=[l.a,Object(a.routerMiddleware)(R)],C=r.d.apply(void 0,[r.a.apply(void 0,P)].concat([])),I=Object(r.e)(Object(a.connectRouter)(R)(D),{},C),k=o(66),A=o(67),z=o(10),B=o(11),J=o(13),L=o(12),X=o(14),N=function(e){function t(e){return Object(z.a)(this,t),Object(J.a)(this,Object(L.a)(t).call(this,e))}return Object(X.a)(t,e),Object(B.a)(t,[{key:"onMouseUp",value:function(e){var t=this.props.mouseStartPosition.x!==e.clientX||this.props.mouseStartPosition.y!==e.clientY;e.shiftKey||t||this.props.deselectAllObjectsExept(this.props.object.id)}},{key:"onMouseDown",value:function(e){e.shiftKey||this.props.object.selected||this.props.deselectAllObjects(),this.props.setObjectsSelectState([this.props.object.id],!0),this.props.setMouseStartPosition(e.clientX,e.clientY),this.props.setObjectEditStartPosition(e.clientX,e.clientY),this.props.updateEditMode("drag")}},{key:"render",value:function(){return i.a.cloneElement(this.props.children,{onMouseUp:this.onMouseUp.bind(this),onMouseDown:this.onMouseDown.bind(this),object:this.props.object})}}]),t}(i.a.Component),U=Object(c.connect)(function(e){return{mouseStartPosition:e.svgRender.mouseStartPosition}},function(e){return Object(r.b)({updateHandlerObjectIndex:b,updateEditMode:O,setMouseStartPosition:y,setObjectsSelectState:j,deselectAllObjects:E,setObjectEditStartPosition:g,deselectAllObjectsExept:f},e)})(N),Y=function(e){function t(){return Object(z.a)(this,t),Object(J.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return i.a.createElement("g",null,i.a.createElement("rect",{strokeWidth:"1",stroke:"#6298F9",fill:"rgba(98, 152, 249, 0.3)",opacity:"0.3",x:this.props.selectToolPosition.x,y:this.props.selectToolPosition.y,width:this.props.selectToolSize.width,height:this.props.selectToolSize.height})," : ''}")}}]),t}(n.Component),H=null,V=null,W={};function Z(e,t,o){return H=e.y-o.y,V=t.height+H,W.y=V>0?t.y:t.y-Math.abs(V),W.height=Math.abs(V),W}function F(e,t,o){return H=e.y-o.y,V=t.height-H,W.y=V>0?t.y-(V-t.height):t.y+t.height,W.height=Math.abs(V),W}function K(e,t,o){return H=e.x-o.x,V=t.width+H,W.x=V<0?t.x+V:t.x,W.width=Math.abs(V),W}function q(e,t,o){return H=e.x-o.x,V=t.width-H,W.x=V>0?t.x+H:t.x+t.width,W.width=Math.abs(V),W}var G=function(e){var t=e.mouse,o=e.mouseStartPosition,n=e.object;return-1*(180*Math.atan2(o.x+(n.width||0)/2-t.x,o.y+(n.height||0)/2-t.y)/Math.PI-45)},Q=function(e){var t=e.rotate,o=e.x,n=e.y,i=e.width,s=e.height;if(t){var c=i/2+o,a=s/2+n;return"rotate(".concat(t," ").concat(c," ").concat(a,")")}},$=function(e){return{transform:Q(e)}},ee=function(e){function t(e){return Object(z.a)(this,t),Object(J.a)(this,Object(L.a)(t).call(this,e))}return Object(X.a)(t,e),Object(B.a)(t,[{key:"onRotateMouseDown",value:function(e){this.props.setObjectMode(this.props.object.id,"rotate"),this.props.updateEditMode("rotate"),this.props.setMouseStartPosition(e.clientX,e.clientY)}},{key:"onDotMouseDown",value:function(e){this.props.setObjectMode(this.props.object.id,"resize"),this.props.updateEditMode("resize"),this.props.saveEditObjectInitState(this.props.object.id),this.props.setMouseStartPosition(e.clientX,e.clientY),this.props.setResizeDirection(e.target.getAttribute("name"))}},{key:"render",value:function(){var e=this,t=this.props.object,o={dots:[{name:"nw",x:t.x,y:t.y},{name:"n",x:t.x+t.width/2,y:t.y},{name:"ne",x:t.x+t.width,y:t.y},{name:"w",x:t.x,y:t.y+t.height/2},{name:"e",x:t.x+t.width,y:t.y+t.height/2},{name:"sw",x:t.x,y:t.y+t.height},{name:"s",x:t.x+t.width/2,y:t.y+t.height},{name:"se",x:t.x+t.width,y:t.y+t.height}]},n=t.x+t.width/2-6,s=t.y-20;return i.a.createElement("g",$(t),i.a.createElement("rect",{width:t.width,height:t.height,x:t.x,y:t.y,fill:"none",stroke:"#00a8ff",strokeDasharray:"3 3",pointerEvents:"none"}),o.dots.map(function(t){return i.a.createElement("circle",{key:t.name,name:t.name,cx:t.x,cy:t.y,fill:"#34B7EF",r:"5",style:{cursor:t.name+"-resize"},onMouseDown:e.onDotMouseDown.bind(e)})}),i.a.createElement("path",{cursor:"pointer",onMouseDown:e.onRotateMouseDown.bind(e),transform:"translate("+n+" "+s+")",stroke:"rgb(0, 0, 0, 0)",strokeWidth:"5",d:"M5.1,0.2L4.4,0.8c-0.1,0.1-0.1,0.2,0,0.3l1.1,1.1C4.2,2.1,2.8,2.5,1.7,3.5c-2,1.8-2.1,4.9-0.3,6.8 c1.8,2,4.8,2.1,6.8,0.3c0.9-0.8,1.4-1.9,1.5-3.1c0-0.1-0.1-0.3-0.2-0.3l-0.9,0c-0.1,0-0.2,0.1-0.2,0.2C8.3,8.2,7.9,9,7.2,9.6 c-1.4,1.3-3.6,1.2-4.8-0.2C1.1,8,1.2,5.8,2.6,4.5c0.9-0.8,2-1.1,3.1-0.8L4.2,5c-0.1,0.1-0.1,0.2,0,0.3L4.8,6c0.1,0.1,0.2,0.1,0.3,0 L8,3.4c0.1-0.1,0.1-0.2,0-0.3L5.4,0.2C5.3,0.1,5.2,0.1,5.1,0.2z"}))}}]),t}(i.a.Component),te=Object(c.connect)(null,function(e){return Object(r.b)({resizeObject:S,setMouseStartPosition:y,updateEditMode:O,setObjectMode:v,saveEditObjectInitState:x,setResizeDirection:_},e)})(ee),oe=function(e){function t(e){return Object(z.a)(this,t),Object(J.a)(this,Object(L.a)(t).call(this,e))}return Object(X.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return i.a.createElement("g",null,i.a.createElement("rect",Object.assign({},$(this.props.object),{width:this.props.object.width,height:this.props.object.height,x:this.props.object.x,y:this.props.object.y,cursor:"move",onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp})),this.props.object.selected?i.a.createElement(te,{object:this.props.object}):"")}}]),t}(i.a.Component),ne=Object(c.connect)(null,null)(oe),ie=function(e){function t(e){var o;return Object(z.a)(this,t),(o=Object(J.a)(this,Object(L.a)(t).call(this,e))).state={selectToolActive:!1,selectToolStartPoint:{x:null,y:null},mousePosition:{x:null,y:null},svgOffset:{x:null,y:null},selectToolSize:{x:null,y:null},selectToolPosition:{x:null,y:null}},o}return Object(X.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.svgRender.getBoundingClientRect();this.setState({svgOffset:{x:e.x,y:e.y}})}},{key:"onMouseMove",value:function(e){var t=this;"drag"===this.props.editMode?this.props.objects.forEach(function(o){o.selected&&t.props.moveObject(o.id,e.clientX-o.editStartPositionOffset.x,e.clientY-o.editStartPositionOffset.y)}):"resize"===this.props.editMode?this.props.objects.forEach(function(o){if("resize"===o.mode){var n=function(e,t,o,n,i){var s=i;switch(t){case"s":s=Object.assign(s,Z(e,o,n));break;case"n":s=Object.assign(s,F(e,o,n));break;case"e":s=Object.assign(s,K(e,o,n));break;case"w":s=Object.assign(s,q(e,o,n));break;case"ne":s=Object.assign(s,F(e,o,n)),s=Object.assign(s,K(e,o,n));break;case"se":s=Object.assign(s,Z(e,o,n)),s=Object.assign(s,K(e,o,n));break;case"sw":s=Object.assign(s,Z(e,o,n)),s=Object.assign(s,q(e,o,n));break;case"nw":s=Object.assign(s,F(e,o,n)),s=Object.assign(s,q(e,o,n))}return s}({x:e.clientX,y:e.clientY},t.props.resizeToolDirection,t.props.editObjectInitState,t.props.mouseStartPosition,{x:o.x,y:o.y,width:o.width,height:o.height});t.props.resizeObject(Object(h.a)({id:o.id},n))}}):"rotate"===this.props.editMode&&this.props.objects.forEach(function(o){if("rotate"===o.mode){var n={x:e.clientX,y:e.clientY},i=t.props.mouseStartPosition;t.props.rotateObject({id:o.id,rotate:G({mouse:n,mouseStartPosition:i,object:o})})}}),"selectTool"===this.props.editMode&&this.updateSelectToolData({x:e.clientX,y:e.clientY})}},{key:"onMouseUp",value:function(e){"selectTool"===this.props.editMode?this.handleSelectTool():"resize"===this.props.editMode?this.props.resetObjectMode():"rotate"===this.props.editMode&&this.props.resetObjectMode(),this.props.updateEditMode(null)}},{key:"onMouseDown",value:function(e){e.target===e.currentTarget&&(this.setSelectStartPosition({x:e.clientX,y:e.clientY}),this.updateSelectToolData({x:e.clientX,y:e.clientY}),this.props.updateEditMode("selectTool"))}},{key:"setSelectStartPosition",value:function(e){this.setState({selectToolStartPoint:{x:e.x-this.state.svgOffset.x,y:e.y-this.state.svgOffset.y}})}},{key:"handleSelectTool",value:function(){var e=this;this.resetSelectToolData();var t=[];this.props.objects.forEach(function(o){var n,i;n={x:o.x,y:o.y,width:o.width,height:o.height},i={x:e.state.selectToolPosition.x,y:e.state.selectToolPosition.y,width:e.state.selectToolSize.width,height:e.state.selectToolSize.height},n.x+n.width>=i.x&&n.x<=i.x+i.width&&n.y+n.height>=i.y&&n.y<=i.y+i.height&&t.push(o.id)}),this.props.deselectAllObjects(),t.length&&this.props.setObjectsSelectState(t)}},{key:"resetSelectToolData",value:function(){this.setState({selectToolStartPoint:{x:null,y:null},selectToolSize:{x:null,y:null}})}},{key:"updateSelectToolData",value:function(e){if(null!==this.state.selectToolStartPoint.x){var t,o,n,i=(t=this.state.selectToolStartPoint,o=e,n=this.state.svgOffset,{width:Math.abs(o.x-n.x-t.x),height:Math.abs(o.y-n.y-t.y)});this.setState({selectToolSize:i});var s=function(e,t,o,n){return{x:t.x-o.x>e.x?e.x:e.x-n.width,y:t.y-o.y>e.y?e.y:e.y-n.height}}(this.state.selectToolStartPoint,e,this.state.svgOffset,i);this.setState({selectToolPosition:s})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("svg",{className:"svgRender",ref:"svgRender",width:"800",height:"500",onMouseMove:this.onMouseMove.bind(this),onMouseUp:this.onMouseUp.bind(this),onMouseDown:this.onMouseDown.bind(this)},this.props.objects.map(function(e){return i.a.createElement(U,{key:e.id,object:e},i.a.createElement(ne,null))}),"selectTool"===this.props.editMode?i.a.createElement(Y,{selectToolPosition:this.state.selectToolPosition,selectToolSize:this.state.selectToolSize}):""))}}]),t}(i.a.Component),se=Object(c.connect)(function(e){var t=e.svgRender,o=e.resizeTool;return{objects:t.objects,editMode:t.editMode,mouseStartPosition:t.mouseStartPosition,editObjectInitState:t.editObjectInitState,resizeToolDirection:o.resizeDirection}},function(e){return Object(r.b)({updateEditMode:O,deselectAllObjects:E,moveObject:T,setObjectsSelectState:j,resizeObject:S,resetObjectMode:m,rotateObject:M},e)})(ie),ce=function(e){function t(){return Object(z.a)(this,t),Object(J.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(se,null))}}]),t}(i.a.Component),ae=Object(c.connect)(null,function(e){return Object(r.b)({changePage:function(){return Object(a.push)("/about-us")}},e)})(ce),re=Object(c.connect)(null,null)(function(e){return i.a.createElement("div",null,i.a.createElement(ae,null))}),le=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"About Page"),i.a.createElement("p",null,"Did you get here via Redux?"))},ue=o(18),de=(o(59),o(34));ue.b.add(de.a);var he=function(){return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement(k.a,{to:"/"},"Home"),i.a.createElement(k.a,{to:"/about-us"},"About")),i.a.createElement("main",null,i.a.createElement(A.a,{exact:!0,path:"/",component:re}),i.a.createElement(A.a,{exact:!0,path:"/about-us",component:le})))},pe=(o(60),o(62),document.querySelector("#root"));Object(s.render)(i.a.createElement(c.Provider,{store:I},i.a.createElement(a.ConnectedRouter,{history:R},i.a.createElement("div",null,i.a.createElement(he,null)))),pe)}},[[35,2,1]]]);
//# sourceMappingURL=main.2b48f5b2.chunk.js.map